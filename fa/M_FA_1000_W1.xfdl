<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="M_FA_1000_W1" width="1500" height="400" titletext="전표등록-결재" onload="fn_FormOnload" onclose="fn_FormClose">
    <Layouts>
      <Layout height="400" width="1500">
        <Div id="div_MasterInput" taborder="1" left="3" top="3" text="" enable="false" right="3" bottom="3">
          <Layouts>
            <Layout>
              <Tab id="tab_Master" taborder="0" tabindex="0" left="0" top="0" right="0" bottom="0" cssclass="tab_WF_MasterList" onkeyup="div_MasterInput_tab_Master_onkeyup" tabstop="false">
                <Tabpages>
                  <Tabpage id="tpg_01" text="전표내역" enable="true">
                    <Layouts>
                      <Layout>
                        <Static id="Static01_03" taborder="0" top="2" height="30" cssclass="sta_WF_DBg" left="0" text="" enable="false" right="0" minwidth="1494" maxwidth=""/>
                        <Static id="sta_AcchNo" taborder="1" text="발의번호" top="2" width="100" height="30" cssclass="sta_WF_DLabel" left="0" DomainID="S00001" enable="true"/>
                        <Static id="Static01_03_00" taborder="2" top="31" height="30" cssclass="sta_WF_DBg" left="0" enable="false" right="0" minwidth="1494" maxwidth=""/>
                        <Static id="sta_DepmCd" taborder="3" text="발의부서" top="31" width="100" height="30" cssclass="sta_WF_DLabel" left="0" DomainID="S00003" enable="true"/>
                        <Static id="sta_EmpmCd" taborder="4" text="발의자" top="31" width="100" height="30" cssclass="sta_WF_DLabel" left="472" enable="true"/>
                        <Static id="Static01_03_00_00" taborder="12" top="59" height="30" cssclass="sta_WF_DBg" left="0" enable="false" right="0" minwidth="1494" maxwidth=""/>
                        <Static id="sta_AcumCd" taborder="14" text="회계단위" top="59" width="100" height="30" cssclass="sta_WF_DLabel" left="472" enable="true"/>
                        <Static id="Static01_03_02" taborder="16" top="88" height="30" cssclass="sta_WF_DBg" left="0" enable="false" right="0" minwidth="1494" maxwidth=""/>
                        <Static id="sta_AcchNm" taborder="18" text="내용요약" top="59" width="100" height="30" cssclass="sta_WF_DLabel" left="0" enable="true"/>
                        <Static id="Static01_03_00_01" taborder="19" top="117" height="30" cssclass="sta_WF_DBg" left="-1" enable="false" right="0" minwidth="1495" maxwidth=""/>
                        <Static id="sta_PacsGu" taborder="20" text="지급구분" top="188" width="100" height="30" cssclass="sta_WF_DLabel" left="707" enable="true" visible="false"/>
                        <Static id="sta_AcchAm" taborder="21" text="발의금액" top="159" width="100" height="30" cssclass="sta_WF_DLabel" left="472" enable="true" visible="false"/>
                        <Static id="Static01_03_00_00_00" taborder="22" top="88" cssclass="sta_WF_DBg" left="0" bottom="0" enable="false" right="0" minwidth="1494" maxwidth=""/>
                        <Static id="Sta_AcreNm" taborder="23" top="88" width="100" cssclass="sta_WF_DLabel" left="0" bottom="0" text="발의내용" enable="true"/>
                        <Edit id="edt_DepmCd" taborder="6" left="103" top="34" width="130" height="24" cssclass="essential" autoselect="true" enable="true" readonly="true"/>
                        <Edit id="edt_DepmNm" taborder="24" left="236" top="34" width="232" height="24" enable="true" tabstop="false" readonly="true"/>
                        <Edit id="edt_EmpmCd" taborder="7" left="575" top="34" width="130" height="24" maxlength="20" cssclass="essential" onchanged="div_MasterInput_tab_Master_tpg_01_edt_EmpmCd_onchanged" autoselect="true" enable="true" readonly="true"/>
                        <Edit id="edt_EmpmNm" taborder="25" left="708" top="34" height="24" enable="true" tabstop="false" readonly="true" right="3" minwidth="783" maxwidth=""/>
                        <Edit id="edt_AcumNm" taborder="26" left="708" top="62" height="24" enable="true" tabstop="false" readonly="true" right="3"/>
                        <Edit id="edt_AcchNm" taborder="10" left="103" top="62" width="366" height="24" enable="true" cssclass="essential" autoselect="true" readonly="true"/>
                        <Edit id="edt_SystId" taborder="27" left="800" top="34" width="7" height="24" maxlength="20" cssclass="essential" visible="false" enable="false"/>
                        <Combo id="cbo_ActyCd" taborder="5" left="810" top="265" height="24" width="130" codecolumn="CODM_CD" datacolumn="CODM_NM" displayrowcount="15" innerdataset="ds_Fa112" cssclass="essential" autoselect="false" tabstop="true" enable="true" readonly="true" visible="false"/>
                        <Static id="sta_SlipNo" taborder="28" text="결의번호" top="2" width="100" height="30" cssclass="sta_WF_DLabel" left="707" DomainID="S00002" enable="true"/>
                        <Edit id="edt_AcumCd" taborder="8" left="575" top="62" width="130" height="24" cssclass="essential" autoselect="true" enable="true" readonly="true"/>
                        <Combo id="cbo_AcchGu" taborder="9" left="810" top="162" height="24" width="130" codecolumn="CODM_CD" datacolumn="CODM_NM" displayrowcount="15" innerdataset="ds_Fa110" cssclass="essential" text="" tabstop="true" enable="true" readonly="true" visible="false"/>
                        <Static id="sta_PareDd" taborder="29" text="지급요청일자" top="188" width="100" height="30" cssclass="sta_WF_DLabel" left="472" DomainID="S00002" enable="true" visible="false"/>
                        <Calendar id="cal_PareDd" taborder="11" left="575" top="191" height="24" dateformat="yyyy-MM-dd" enable="true" width="130" readonly="true" visible="false"/>
                        <Combo id="cbo_PacsGu" taborder="13" left="810" top="191" height="24" codecolumn="CODM_CD" datacolumn="CODM_NM" displayrowcount="15" innerdataset="ds_Fa114" tabstop="true" enable="true" readonly="true" right="3" minwidth="681" maxwidth="" visible="false"/>
                        <Static id="sta_PacsCd" taborder="30" text="지급처" top="167" width="100" height="30" cssclass="sta_WF_DLabel" left="160" DomainID="S00002" enable="true" visible="false"/>
                        <Edit id="edt_PacsCd" taborder="15" left="263" top="170" width="129" height="24" autoselect="true" enable="true" readonly="true" visible="false"/>
                        <Static id="sta_PaacNo" taborder="31" text="계좌정보" top="177" width="100" height="30" cssclass="sta_WF_DLabel" left="472" DomainID="S00002" enable="true" visible="false"/>
                        <TextArea id="txt_AcreNm" taborder="17" left="103" top="91" bottom="3" tabstop="true" enable="true" readonly="true" right="3" minwidth="1388" maxwidth=""/>
                        <Button id="btn_AcreNmPop" taborder="32" top="153" height="24" width="24" cursor="pointer" cssclass="btn_WF_SmallSearch" onclick="div_MasterInput_tab_Master_tpg_01_btn_AcreNmPop_onclick" tabstop="false" left="txt_AcreNm:-26"/>
                        <MaskEdit id="mae_AcchAm" taborder="33" left="575" top="162" height="24" format="#,##0" enable="true" cssclass="essential" width="130" autoselect="true" readonly="true" tabstop="false" visible="false"/>
                        <MaskEdit id="mae_AcchNo" taborder="34" left="103" top="5" width="366" height="24" type="string" format="@@@@@@-@@@@" enable="true" readonly="true"/>
                        <MaskEdit id="mae_SlipNo" taborder="35" left="810" top="5" height="24" type="string" format="@@@@@@-@@@@" enable="true" readonly="true" right="3"/>
                        <Static id="sta_AcchDd" taborder="36" text="발의일자" top="2" width="100" height="30" cssclass="sta_WF_DLabel" left="472" DomainID="S00002" enable="true"/>
                        <Calendar id="cal_AcchDd" taborder="37" left="575" top="5" width="130" height="24" dateformat="yyyy-MM-dd" cssclass="essential" enable="true" readonly="true"/>
                        <Static id="sta_TranYn" taborder="38" text="이관여부" top="179" width="100" height="30" cssclass="sta_WF_DLabel" left="707" DomainID="S00002" enable="true" visible="false"/>
                        <CheckBox id="chk_TranYn" taborder="39" left="810" top="182" height="24" text="" falsevalue="0" truevalue="1" value="1" tabstop="false" enable="false" visible="false" right="3" maxwidth=""/>
                        <Static id="sta_ActyCd" taborder="40" text="발의시스템" top="159" width="100" height="30" cssclass="sta_WF_DLabel" left="707" DomainID="S00002" enable="true" visible="false"/>
                        <Static id="sta_AcchGu" taborder="41" text="발의구분" top="262" width="100" height="30" cssclass="sta_WF_DLabel" left="707" enable="true" visible="false"/>
                        <Edit id="edt_PacsNm" taborder="42" left="396" top="170" width="232" height="24" autoselect="true" enable="true" readonly="true" visible="false"/>
                        <Static id="sta_PabaCd" taborder="43" text="지급은행" top="177" width="100" height="30" cssclass="sta_WF_DLabel" left="472" enable="true" visible="false"/>
                        <Combo id="cbo_PabaCd" taborder="44" left="575" top="180" height="24" width="130" codecolumn="CODM_CD" datacolumn="CODM_NM" displayrowcount="15" innerdataset="ds_Fa005" tabstop="true" enable="false" visible="false"/>
                        <Combo id="cbo_PaacNo" taborder="45" left="575" top="180" height="24" codecolumn="ACNM_NO" datacolumn="ACNM_FULL" displayrowcount="15" innerdataset="ds_SdCbabFull" tabstop="true" text="" readonly="true" right="0" minwidth="919" maxwidth="" visible="false"/>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                  <Tabpage id="tpg_02" text="전표상세">
                    <Layouts>
                      <Layout>
                        <Grid id="grd_Detail10" taborder="0" left="0" top="2" autofittype="none" right="416" bottom="0" autoenter="select" cellsizingtype="col" binddataset="ds_Detail10" onenterdown="div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onenterdown" onsetfocus="div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onsetfocus" onnodataareadblclick="div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onnodataareadblclick" selecttype="multiarea">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="35"/>
                                <Column size="0"/>
                                <Column size="100"/>
                                <Column size="200"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="200"/>
                                <Column size="100"/>
                                <Column size="80"/>
                                <Column size="80"/>
                                <Column size="80"/>
                                <Column size="100"/>
                                <Column size="100"/>
                                <Column size="85"/>
                                <Column size="60"/>
                              </Columns>
                              <Rows>
                                <Row size="26" band="head"/>
                                <Row size="24"/>
                                <Row size="24" band="summ"/>
                              </Rows>
                              <Band id="head">
                                <Cell text="No."/>
                                <Cell col="1" text="차대구분"/>
                                <Cell col="2" text="계정코드"/>
                                <Cell col="3" text="계정명"/>
                                <Cell col="4" text="회계기준명"/>
                                <Cell col="5" text="차변금액"/>
                                <Cell col="6" text="대변금액"/>
                                <Cell col="7" text="적요"/>
                                <Cell col="8" text="예산부서"/>
                                <Cell col="9" text="편성년월"/>
                                <Cell col="10" text="화폐"/>
                                <Cell col="11" text="환율"/>
                                <Cell col="12" text="외화차변"/>
                                <Cell col="13" text="외화대변"/>
                                <Cell col="14" text="반제발의번호"/>
                                <Cell col="15" text="반제순번"/>
                              </Band>
                              <Band id="body">
                                <Cell expr="currow+1" textAlign="center"/>
                                <Cell col="1" text="bind:DECR_GU" displaytype="combotext" combodataset="ds_Fa040" combocodecol="CODM_CD" combodatacol="CODM_NM"/>
                                <Cell col="2" text="bind:ACOM_CD" edittype="none" textAlign="center"/>
                                <Cell col="3" text="bind:ACOM_NM" edittype="none"/>
                                <Cell col="4" edittype="none" text="bind:PALM_NM"/>
                                <Cell col="5" text="bind:DEBI_AM" edittype="none" textAlign="right" maskeditformat="expr:(DECR_GU == 'C')?'#,##0': '#,###'" displaytype="number" editautoselect="false" maskeditautoselect="true"/>
                                <Cell col="6" text="bind:CRED_AM" edittype="none" textAlign="right" maskeditformat="expr:(DECR_GU == 'D')?'#,##0': '#,###'" displaytype="number" editautoselect="false" maskeditautoselect="true"/>
                                <Cell col="7" text="bind:REMK_NM" edittype="none" editautoselect="true"/>
                                <Cell col="8" edittype="none" displaytype="normal" text="bind:BUDP_NM"/>
                                <Cell col="9" edittype="none" calendareditformat="yyyy-MM" calendarshowmonthspin="true" calendarshowyearspin="true" displaytype="date" calendardateformat="yyyy-MM" text="bind:BUDG_MM" textAlign="center"/>
                                <Cell col="10" text="bind:CURR_CD" edittype="none" displaytype="combotext" combodataset="ds_Sm020" combocodecol="CODM_CD" combodatacol="CODM_NM"/>
                                <Cell col="11" text="bind:EXCH_RT" edittype="none" textAlign="right" displaytype="number" maskeditformat="#,###.####" maskeditautoselect="true"/>
                                <Cell col="12" text="bind:FRDB_AM" displaytype="number" edittype="none" maskeditformat="expr:(DECR_GU == 'D')?'#,##0.####': '#,###.####'" textAlign="right" maskeditautoselect="true"/>
                                <Cell col="13" text="bind:FRCR_AM" displaytype="number" edittype="none" maskeditformat="expr:(DECR_GU == 'C')?'#,##0.####': '#,###.####'" textAlign="right" maskeditautoselect="true"/>
                                <Cell col="14" text="bind:ANTI_NO" displaytype="mask" maskeditformat="expr:(ANTI_NO.length &gt; 10)?'@@@@@@@@-@@@@':'@@@@@@-@@@@'" maskedittype="string" textAlign="center"/>
                                <Cell col="15" text="bind:ANTI_SE" textAlign="center"/>
                              </Band>
                              <Band id="summary">
                                <Cell/>
                                <Cell col="1" text="합계" textAlign="center"/>
                                <Cell col="2"/>
                                <Cell col="3"/>
                                <Cell col="4"/>
                                <Cell col="5" displaytype="mask" maskeditformat="#,###" expr="dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;DEBI_AM&quot;) "/>
                                <Cell col="6" displaytype="mask" maskeditformat="#,###" expr="dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;CRED_AM&quot;)"/>
                                <Cell col="7" expr="(dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;DEBI_AM&quot;) - dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;CRED_AM&quot;))==0?&quot;&quot;:&quot; 차액 : &quot; + (dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;DEBI_AM&quot;) - dataset.getCaseSum(&quot;crudType != 'D'&quot;, &quot;CRED_AM&quot;)).toString().replace(/\B(?=(\d{3})+(?!\d))/g, &quot;,&quot;)" displaytype="normal" maskeditformat="#,###" color="#f17264"/>
                                <Cell col="8"/>
                                <Cell col="9"/>
                                <Cell col="10"/>
                                <Cell col="11" displaytype="number"/>
                                <Cell col="12" expr="dataset.getSum(&quot;FRDB_AM&quot;)" displaytype="number" maskeditformat="#,##0.0###"/>
                                <Cell col="13" expr="dataset.getSum(&quot;FRCR_AM&quot;)" displaytype="number" maskeditformat="#,##0.0###"/>
                                <Cell col="14"/>
                                <Cell col="15"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Div id="div_detailRight" taborder="1" text="Div00" top="11" right="10" bottom="0" width="391">
                          <Layouts>
                            <Layout>
                              <Div id="div_Item" taborder="1" text="Div00" left="0" top="0" right="0" height="41" enable="false">
                                <Layouts>
                                  <Layout>
                                    <Static id="sta_DetailRightBottom" taborder="28" text="관리항목" left="0" top="0" width="220" height="22" cssclass="sta_WF_Title" verticalAlign="middle" textAlign="left"/>
                                  </Layout>
                                </Layouts>
                              </Div>
                              <Div id="div_Budget" taborder="1" left="0" top="div_Item:0" height="180" right="0" visible="true">
                                <Layouts>
                                  <Layout>
                                    <Static id="StaticBudget1F" taborder="0" top="210" height="30" cssclass="sta_WF_DBg" left="0" text="" right="0" visible="false"/>
                                    <Static id="StaticBudget2F" taborder="1" top="240" height="30" cssclass="sta_WF_DBg" right="0" left="0" visible="false"/>
                                    <Static id="StaticBudget3F" taborder="2" top="29" height="30" cssclass="sta_WF_DBg" right="0" left="0"/>
                                    <Static id="StaticBudget4F" taborder="3" top="58" height="30" cssclass="sta_WF_DBg" left="0" right="0"/>
                                    <Static id="StaticBudget5F" taborder="4" top="87" height="30" cssclass="sta_WF_DBg" right="0" left="0"/>
                                    <Static id="StaticBudget6F" taborder="5" top="145" height="30" cssclass="sta_WF_DBg" left="0" right="0"/>
                                    <Static id="Static01" taborder="6" text="편성년월" top="StaticBudget1F:-30" width="85" height="30" cssclass="sta_WF_DLabel" left="0" DomainID="S00001" visible="false"/>
                                    <Static id="sta_DepmCd" taborder="7" text="예산부서" top="StaticBudget2F:-30" width="85" height="30" cssclass="sta_WF_DLabel" left="0" DomainID="S00003" usedecorate="true" visible="false"/>
                                    <Static id="Static01_00_01" taborder="8" text="예산계정" top="StaticBudget3F:-30" width="93" height="30" cssclass="sta_WF_DLabel" left="0"/>
                                    <Static id="Static01_04" taborder="9" text="편성금액" top="StaticBudget4F:-30" width="93" height="30" cssclass="sta_WF_DLabel" left="0"/>
                                    <Static id="Static01_00_02" taborder="10" text="기사용금액" top="87" width="93" height="30" cssclass="sta_WF_DLabel" left="0"/>
                                    <Static id="Static01_01_00" taborder="11" text="가용잔액" top="145" width="93" height="30" cssclass="sta_WF_DLabel" left="0"/>
                                    <Calendar id="cal_BudgetDd" taborder="12" left="88" top="StaticBudget1F:-27" height="24" dateformat="yyyy-MM" width="103" editformat="yyyy-MM" enable="false" visible="false"/>
                                    <Edit id="edt_BudgetDeptCd" taborder="13" left="88" top="StaticBudget2F:-27" height="24" enable="true" text="ssdsdewweew" width="103" onchanged="div_DetailInput_div_detailRight_div_Budget_edt_BudgetDeptCd_onchanged" visible="false"/>
                                    <Edit id="edt_BudgetDeptNm" taborder="14" left="edt_BudgetDeptCd:3" top="StaticBudget2F:-27" height="24" enable="false" text="ssdsdewweew" right="30" visible="false"/>
                                    <Edit id="edt_BudgetAcomCd" taborder="15" left="96" top="StaticBudget3F:-27" height="24" enable="false" text="ssdsdewweew" right="3"/>
                                    <Button id="btn_BudgetDept" taborder="16" top="StaticBudget2F:-27" height="24" right="3" width="24" cursor="pointer" cssclass="btn_WF_SmallSearch" onclick="div_DetailInput_div_detailRight_div_Budget_btn_BudgetDept_onclick" visible="false"/>
                                    <Static id="sta_Master10" taborder="17" text="예산" left="0" top="0" width="220" height="32" cssclass="sta_WF_Title"/>
                                    <MaskEdit id="mae_RecAm" taborder="18" left="96" top="StaticBudget4F:-27" height="24" format="#,##0" enable="false" right="3"/>
                                    <MaskEdit id="mae_AvailAm" taborder="19" left="96" top="148" height="24" format="#,##0" enable="false" right="3"/>
                                    <MaskEdit id="mae_UsedAm" taborder="20" left="96" top="90" height="24" format="#,##0" enable="false" right="3"/>
                                    <CheckBox id="chk_BgcmYn" taborder="21" text="예산통제여부" top="6" width="96" height="20" right="0" enable="false" falsevalue="0" truevalue="1"/>
                                    <Static id="StaticBudget5F00" taborder="22" top="116" height="30" cssclass="sta_WF_DBg" right="0" left="0"/>
                                    <Static id="Static01_00_02_00" taborder="23" text="사용금액" top="116" width="93" height="30" cssclass="sta_WF_DLabel" left="0"/>
                                    <MaskEdit id="mae_RegAm" taborder="24" left="96" top="119" height="24" format="#,##0" enable="false" right="3"/>
                                  </Layout>
                                </Layouts>
                              </Div>
                            </Layout>
                          </Layouts>
                        </Div>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                  <Tabpage id="tpg_03" text="첨부파일">
                    <Layouts>
                      <Layout>
                        <Div id="div_CommFile" taborder="0" left="0" top="2" right="0" bottom="0" url="cmm::cmmFileList.xfdl" async="false"/>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                </Tabpages>
              </Tab>
              <Button id="btn_CallMainScrn" taborder="1" text="상세보기" width="70" height="24" uWord="popup.ok" cssclass="bt_WF_PopupBlue" top="2" right="5" onclick="div_MasterInput_btn_CallMainScrn_onclick"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_Input">
        <ColumnInfo>
          <Column id="FROM_DD" type="STRING" size="256" description="조회시작일자"/>
          <Column id="CLOS_DD" type="STRING" size="256" description="조회종료일자"/>
          <Column id="CNTH_NO" type="STRING" size="256" description="계약번호"/>
          <Column id="CUSM_CD" type="STRING" size="256" description="거래처코드"/>
          <Column id="WOFH_SQ" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256" description="부서코드(조직코드)"/>
          <Column id="SESU_ID" type="STRING" size="256" description="시스템사용자ID"/>
          <Column id="ACUM_CD" type="STRING" size="256"/>
          <Column id="ACCH_NO" type="STRING" size="256"/>
          <Column id="ACCH_NM" type="STRING" size="256"/>
          <Column id="WOFH_YN" type="STRING" size="256"/>
          <Column id="PRGM_ID" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="crudType" type="STRING" size="256"/>
          <Column id="BUGS_YM" type="STRING" size="256"/>
          <Column id="WOFH_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Master10" onrowposchanged="ds_Master10_onrowposchanged" canrowposchange="ds_Master10_canrowposchange">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="ACCH_NO" type="STRING" size="256"/>
          <Column id="WOFH_SQ" type="STRING" size="256"/>
          <Column id="WOFH_YN" type="STRING" size="256"/>
          <Column id="WOFH_YN_NM" type="STRING" size="256"/>
          <Column id="ACCH_DD" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256"/>
          <Column id="DEPM_NM" type="STRING" size="256"/>
          <Column id="EMPM_CD" type="STRING" size="256"/>
          <Column id="EMPM_NM" type="STRING" size="256"/>
          <Column id="SYST_ID" type="STRING" size="256"/>
          <Column id="ACUM_CD" type="STRING" size="256"/>
          <Column id="ACUM_NM" type="STRING" size="256"/>
          <Column id="ACCH_GU" type="STRING" size="256"/>
          <Column id="ACCH_GU_NM" type="STRING" size="256"/>
          <Column id="ACTY_CD" type="STRING" size="256"/>
          <Column id="ACTY_NM" type="STRING" size="256"/>
          <Column id="ACCH_NM" type="STRING" size="256"/>
          <Column id="ACRE_NM" type="STRING" size="256"/>
          <Column id="ACCH_AM" type="STRING" size="256"/>
          <Column id="PARE_DD" type="STRING" size="256"/>
          <Column id="PACS_GU" type="STRING" size="256"/>
          <Column id="PACS_GU_NM" type="STRING" size="256"/>
          <Column id="PACS_CD" type="STRING" size="256"/>
          <Column id="PACS_NM" type="STRING" size="256"/>
          <Column id="PABA_CD" type="STRING" size="256"/>
          <Column id="PABA_NM" type="STRING" size="256"/>
          <Column id="PAAC_NO" type="STRING" size="256"/>
          <Column id="SLIP_YN" type="STRING" size="256"/>
          <Column id="SLIP_NO" type="STRING" size="256"/>
          <Column id="SLIP_DD" type="STRING" size="256"/>
          <Column id="SLIP_EMP_NO" type="STRING" size="256"/>
          <Column id="SLIP_EMP_NM" type="STRING" size="256"/>
          <Column id="SLIP_ID" type="STRING" size="256"/>
          <Column id="TRAN_YN" type="STRING" size="256"/>
          <Column id="DELE_YN" type="STRING" size="256"/>
          <Column id="WOFH_NO" type="STRING" size="256"/>
          <Column id="WOFH_ST" type="STRING" size="256"/>
          <Column id="WOFH_ST_NM" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
          <Column id="REGI_ID" type="STRING" size="256"/>
          <Column id="REGI_NM" type="STRING" size="256"/>
          <Column id="REGI_DT" type="STRING" size="256"/>
          <Column id="MODI_ID" type="STRING" size="256"/>
          <Column id="MODI_NM" type="STRING" size="256"/>
          <Column id="MODI_DT" type="STRING" size="256"/>
          <Column id="DELE_ID" type="STRING" size="256"/>
          <Column id="DELE_NM" type="STRING" size="256"/>
          <Column id="DELE_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Detail10" oncolumnchanged="ds_Detail10_oncolumnchanged" onvaluechanged="ds_Detail10_onvaluechanged" onrowposchanged="ds_Detail10_onrowposchanged">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="ACCH_NO" type="STRING" size="256"/>
          <Column id="WOFH_SQ" type="STRING" size="256"/>
          <Column id="ACCB_SE" type="STRING" size="256"/>
          <Column id="ACUM_CD" type="STRING" size="256"/>
          <Column id="DECR_GU" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="ACOM_NM" type="STRING" size="256"/>
          <Column id="PALM_CD" type="STRING" size="256"/>
          <Column id="PALM_NM" type="STRING" size="256"/>
          <Column id="CRED_AM" type="BIGDECIMAL" size="256"/>
          <Column id="DEBI_AM" type="BIGDECIMAL" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="MANA_NM" type="STRING" size="256"/>
          <Column id="DETA_CD" type="STRING" size="256"/>
          <Column id="DETA_NM" type="STRING" size="256"/>
          <Column id="MA01_CD" type="STRING" size="256"/>
          <Column id="MA02_CD" type="STRING" size="256"/>
          <Column id="MA03_CD" type="STRING" size="256"/>
          <Column id="MA04_CD" type="STRING" size="256"/>
          <Column id="MA05_CD" type="STRING" size="256"/>
          <Column id="MA06_CD" type="STRING" size="256"/>
          <Column id="MA07_CD" type="STRING" size="256"/>
          <Column id="MA08_CD" type="STRING" size="256"/>
          <Column id="MA01_NM" type="STRING" size="256"/>
          <Column id="MA02_NM" type="STRING" size="256"/>
          <Column id="MA03_NM" type="STRING" size="256"/>
          <Column id="MA04_NM" type="STRING" size="256"/>
          <Column id="MA05_NM" type="STRING" size="256"/>
          <Column id="MA06_NM" type="STRING" size="256"/>
          <Column id="MA07_NM" type="STRING" size="256"/>
          <Column id="MA08_NM" type="STRING" size="256"/>
          <Column id="DE01_CD" type="STRING" size="256"/>
          <Column id="DE02_CD" type="STRING" size="256"/>
          <Column id="DE03_CD" type="STRING" size="256"/>
          <Column id="DE04_CD" type="STRING" size="256"/>
          <Column id="DE05_CD" type="STRING" size="256"/>
          <Column id="DE06_CD" type="STRING" size="256"/>
          <Column id="DE07_CD" type="STRING" size="256"/>
          <Column id="DE08_CD" type="STRING" size="256"/>
          <Column id="VDE01_CD" type="STRING" size="256"/>
          <Column id="VDE02_CD" type="STRING" size="256"/>
          <Column id="VDE03_CD" type="STRING" size="256"/>
          <Column id="VDE04_CD" type="STRING" size="256"/>
          <Column id="VDE05_CD" type="STRING" size="256"/>
          <Column id="VDE06_CD" type="STRING" size="256"/>
          <Column id="VDE07_CD" type="STRING" size="256"/>
          <Column id="VDE08_CD" type="STRING" size="256"/>
          <Column id="DE01_NM" type="STRING" size="256"/>
          <Column id="DE02_NM" type="STRING" size="256"/>
          <Column id="DE03_NM" type="STRING" size="256"/>
          <Column id="DE04_NM" type="STRING" size="256"/>
          <Column id="DE05_NM" type="STRING" size="256"/>
          <Column id="DE06_NM" type="STRING" size="256"/>
          <Column id="DE07_NM" type="STRING" size="256"/>
          <Column id="DE08_NM" type="STRING" size="256"/>
          <Column id="MA01_YN" type="STRING" size="256"/>
          <Column id="MA02_YN" type="STRING" size="256"/>
          <Column id="MA03_YN" type="STRING" size="256"/>
          <Column id="MA04_YN" type="STRING" size="256"/>
          <Column id="MA05_YN" type="STRING" size="256"/>
          <Column id="MA06_YN" type="STRING" size="256"/>
          <Column id="MA07_YN" type="STRING" size="256"/>
          <Column id="MA08_YN" type="STRING" size="256"/>
          <Column id="SLIP_YN" type="STRING" size="256"/>
          <Column id="SLIP_NO" type="STRING" size="256"/>
          <Column id="SLIP_DD" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="BUDG_MM" type="STRING" size="256"/>
          <Column id="BUDP_CD" type="STRING" size="256"/>
          <Column id="BUDP_NM" type="STRING" size="256"/>
          <Column id="ACDE_CD" type="STRING" size="256"/>
          <Column id="ACDE_NM" type="STRING" size="256"/>
          <Column id="REFE_NO" type="STRING" size="256"/>
          <Column id="CURR_CD" type="STRING" size="256"/>
          <Column id="EXCH_RT" type="STRING" size="256"/>
          <Column id="FRDB_AM" type="BIGDECIMAL" size="256"/>
          <Column id="FRCR_AM" type="BIGDECIMAL" size="256"/>
          <Column id="ANTI_NO" type="STRING" size="256"/>
          <Column id="ANTI_SE" type="STRING" size="256"/>
          <Column id="JBGU_CD" type="STRING" size="256"/>
          <Column id="JBAC_NO" type="STRING" size="256"/>
          <Column id="DELE_YN" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
          <Column id="REGI_ID" type="STRING" size="256"/>
          <Column id="REGI_NM" type="STRING" size="256"/>
          <Column id="REGI_DT" type="STRING" size="256"/>
          <Column id="MODI_ID" type="STRING" size="256"/>
          <Column id="MODI_NM" type="STRING" size="256"/>
          <Column id="MODI_DT" type="STRING" size="256"/>
          <Column id="DELE_ID" type="STRING" size="256"/>
          <Column id="DELE_NM" type="STRING" size="256"/>
          <Column id="DELE_DT" type="STRING" size="256"/>
          <Column id="TADE_YN" type="STRING" size="256"/>
          <Column id="s_chk" type="STRING" size="256"/>
          <Column id="crudType" type="STRING" size="256"/>
          <Column id="BGCM_YN" type="STRING" size="256"/>
          <Column id="BGCM_AM" type="STRING" size="256"/>
          <Column id="DECR_GU_CHK" type="STRING" size="256"/>
          <Column id="CONF_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Fa112">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="GRCM_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
          <Column id="OP01_NM" type="STRING" size="256"/>
          <Column id="OP02_NM" type="STRING" size="256"/>
          <Column id="OP03_NM" type="STRING" size="256"/>
          <Column id="OP04_NM" type="STRING" size="256"/>
          <Column id="OP05_NM" type="STRING" size="256"/>
          <Column id="OP06_NM" type="STRING" size="256"/>
          <Column id="OP07_NM" type="STRING" size="256"/>
          <Column id="OP08_NM" type="STRING" size="256"/>
          <Column id="OP09_NM" type="STRING" size="256"/>
          <Column id="OP10_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Fa110">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="GRCM_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
          <Column id="OP01_NM" type="STRING" size="256"/>
          <Column id="OP02_NM" type="STRING" size="256"/>
          <Column id="OP03_NM" type="STRING" size="256"/>
          <Column id="OP04_NM" type="STRING" size="256"/>
          <Column id="OP05_NM" type="STRING" size="256"/>
          <Column id="OP06_NM" type="STRING" size="256"/>
          <Column id="OP07_NM" type="STRING" size="256"/>
          <Column id="OP08_NM" type="STRING" size="256"/>
          <Column id="OP09_NM" type="STRING" size="256"/>
          <Column id="OP10_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Fa114">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="GRCM_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
          <Column id="OP01_NM" type="STRING" size="256"/>
          <Column id="OP02_NM" type="STRING" size="256"/>
          <Column id="OP03_NM" type="STRING" size="256"/>
          <Column id="OP04_NM" type="STRING" size="256"/>
          <Column id="OP05_NM" type="STRING" size="256"/>
          <Column id="OP06_NM" type="STRING" size="256"/>
          <Column id="OP07_NM" type="STRING" size="256"/>
          <Column id="OP08_NM" type="STRING" size="256"/>
          <Column id="OP09_NM" type="STRING" size="256"/>
          <Column id="OP10_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_CD"/>
            <Col id="CODM_NM"/>
          </Row>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_CD">01</Col>
            <Col id="CODM_NM">사번</Col>
          </Row>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_NM">거래처</Col>
            <Col id="CODM_CD">02</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Fa040">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="GRCM_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
          <Column id="OP01_NM" type="STRING" size="256"/>
          <Column id="OP02_NM" type="STRING" size="256"/>
          <Column id="OP03_NM" type="STRING" size="256"/>
          <Column id="OP04_NM" type="STRING" size="256"/>
          <Column id="OP05_NM" type="STRING" size="256"/>
          <Column id="OP06_NM" type="STRING" size="256"/>
          <Column id="OP07_NM" type="STRING" size="256"/>
          <Column id="OP08_NM" type="STRING" size="256"/>
          <Column id="OP09_NM" type="STRING" size="256"/>
          <Column id="OP10_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Sm020">
        <ColumnInfo>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_AcomMa">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="ACOM_NM" type="STRING" size="256"/>
          <Column id="DECR_GU" type="STRING" size="256"/>
          <Column id="ACOM_GU" type="STRING" size="256"/>
          <Column id="MA_CD" type="STRING" size="256"/>
          <Column id="MA_NM" type="STRING" size="256"/>
          <Column id="MA_YN" type="STRING" size="256"/>
          <Column id="TYPE_CD" type="STRING" size="256"/>
          <Column id="TYPE_NM" type="STRING" size="256"/>
          <Column id="LENG_CT" type="STRING" size="256"/>
          <Column id="ITEM_GU" type="STRING" size="256"/>
          <Column id="ITEM_GU_NM" type="STRING" size="256"/>
          <Column id="DETA_CD" type="STRING" size="256"/>
          <Column id="MA_NUM" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CD01_NM" type="STRING" size="256"/>
          <Column id="CD02_NM" type="STRING" size="256"/>
          <Column id="FUNC_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_FaBanm">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="BANM_CD" type="STRING" size="256"/>
          <Column id="BANM_NM" type="STRING" size="256"/>
          <Column id="BANM_GU" type="STRING" size="256"/>
          <Column id="BANS_NM" type="STRING" size="256"/>
          <Column id="SAUM_NO" type="STRING" size="256"/>
          <Column id="OTEL_NO" type="STRING" size="256"/>
          <Column id="POST_NO" type="STRING" size="256"/>
          <Column id="ADDR_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_CmMaInfo" oncolumnchanged="ds_CmMaInfo_oncolumnchanged">
        <ColumnInfo>
          <Column id="ITEM_GU" type="STRING" size="256"/>
          <Column id="COMP_CD" type="STRING" size="256"/>
          <Column id="COMP_NM" type="STRING" size="256"/>
          <Column id="DE01_CD" type="STRING" size="256"/>
          <Column id="VDE01_CD" type="STRING" size="256"/>
          <Column id="DE01_NM" type="STRING" size="256"/>
          <Column id="DE02_CD" type="STRING" size="256"/>
          <Column id="VDE02_CD" type="STRING" size="256"/>
          <Column id="DE02_NM" type="STRING" size="256"/>
          <Column id="DE03_CD" type="STRING" size="256"/>
          <Column id="VDE03_CD" type="STRING" size="256"/>
          <Column id="DE03_NM" type="STRING" size="256"/>
          <Column id="DE04_CD" type="STRING" size="256"/>
          <Column id="VDE04_CD" type="STRING" size="256"/>
          <Column id="DE04_NM" type="STRING" size="256"/>
          <Column id="DE05_CD" type="STRING" size="256"/>
          <Column id="VDE05_CD" type="STRING" size="256"/>
          <Column id="DE05_NM" type="STRING" size="256"/>
          <Column id="DE06_CD" type="STRING" size="256"/>
          <Column id="VDE06_CD" type="STRING" size="256"/>
          <Column id="DE06_NM" type="STRING" size="256"/>
          <Column id="DE07_CD" type="STRING" size="256"/>
          <Column id="VDE07_CD" type="STRING" size="256"/>
          <Column id="DE07_NM" type="STRING" size="256"/>
          <Column id="DE08_CD" type="STRING" size="256"/>
          <Column id="VDE08_CD" type="STRING" size="256"/>
          <Column id="DE08_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Detail11">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="BUGS_YM" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="BGMM_AM" type="STRING" size="256"/>
          <Column id="BGAD_AM" type="STRING" size="256"/>
          <Column id="BGCH_AM" type="STRING" size="256"/>
          <Column id="BGSU_AM" type="STRING" size="256"/>
          <Column id="BGAC_AM" type="STRING" size="256"/>
          <Column id="BGSL_AM" type="STRING" size="256"/>
          <Column id="REAC_AM" type="STRING" size="256"/>
          <Column id="RESL_AM" type="STRING" size="256"/>
          <Column id="USED_AM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Detail12">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="BUGS_YM" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="ACOM_NM" type="STRING" size="256"/>
          <Column id="USED_AM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Detail13">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="BUGS_YM" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256"/>
          <Column id="ACOM_CD" type="STRING" size="256"/>
          <Column id="BGAC_AM" type="STRING" size="256"/>
          <Column id="crudType" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Wf110">
        <ColumnInfo>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Master10Wf">
        <ColumnInfo>
          <Column id="PRGM_ID" type="STRING" size="256"/>
          <Column id="TABL_NM" type="STRING" size="256"/>
          <Column id="FILH_GU" type="STRING" size="256"/>
          <Column id="PK01_NO" type="STRING" size="256"/>
          <Column id="PK02_NO" type="STRING" size="256"/>
          <Column id="PK03_NO" type="STRING" size="256"/>
          <Column id="PK04_NO" type="STRING" size="256"/>
          <Column id="PK05_NO" type="STRING" size="256"/>
          <Column id="PK06_NO" type="STRING" size="256"/>
          <Column id="PK07_NO" type="STRING" size="256"/>
          <Column id="PK08_NO" type="STRING" size="256"/>
          <Column id="PK09_NO" type="STRING" size="256"/>
          <Column id="PK10_NO" type="STRING" size="256"/>
          <Column id="WOFH_SQ_NO" type="STRING" size="256"/>
          <Column id="FILE_YN" type="STRING" size="256"/>
          <Column id="ACCH_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Fa005">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="GRCM_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="CODM_NM" type="STRING" size="256"/>
          <Column id="OP01_NM" type="STRING" size="256"/>
          <Column id="OP02_NM" type="STRING" size="256"/>
          <Column id="OP03_NM" type="STRING" size="256"/>
          <Column id="OP04_NM" type="STRING" size="256"/>
          <Column id="OP05_NM" type="STRING" size="256"/>
          <Column id="OP06_NM" type="STRING" size="256"/>
          <Column id="OP07_NM" type="STRING" size="256"/>
          <Column id="OP08_NM" type="STRING" size="256"/>
          <Column id="OP09_NM" type="STRING" size="256"/>
          <Column id="OP10_NM" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_CD"/>
            <Col id="CODM_NM"/>
          </Row>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_CD">01</Col>
            <Col id="CODM_NM">사번</Col>
          </Row>
          <Row>
            <Col id="COMM_CD">PacsGu</Col>
            <Col id="CODM_NM">거래처</Col>
            <Col id="CODM_CD">02</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_Item">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="ITEM_CD" type="STRING" size="256"/>
          <Column id="ITEM_NM" type="STRING" size="256"/>
          <Column id="TYPE_CD" type="STRING" size="256"/>
          <Column id="LENG_CT" type="STRING" size="256"/>
          <Column id="ITEM_GU" type="STRING" size="256"/>
          <Column id="DETA_CD" type="STRING" size="256"/>
          <Column id="CODM_CD" type="STRING" size="256"/>
          <Column id="FUNC_NM" type="STRING" size="256"/>
          <Column id="CD01_NM" type="STRING" size="256"/>
          <Column id="CD02_NM" type="STRING" size="256"/>
          <Column id="BALA_YN" type="STRING" size="256"/>
          <Column id="PREP_CD" type="STRING" size="256"/>
          <Column id="SORT_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_SdCbabFull">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="CUSM_CD" type="STRING" size="256"/>
          <Column id="WOFH_SQ" type="STRING" size="256"/>
          <Column id="CBAB_SE" type="STRING" size="256"/>
          <Column id="ACNO_GU" type="STRING" size="256"/>
          <Column id="BANM_CD" type="STRING" size="256"/>
          <Column id="ACNM_NO" type="STRING" size="256"/>
          <Column id="ACNM_CD" type="STRING" size="256"/>
          <Column id="ACNM_FULL" type="STRING" size="256"/>
          <Column id="ACEM_NM" type="STRING" size="256"/>
          <Column id="CBAB_YN" type="STRING" size="256"/>
          <Column id="USED_YN" type="STRING" size="256"/>
          <Column id="CHAN_NM" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="ACNO_NM" type="STRING" size="256"/>
          <Column id="BANM_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_Master10Rt">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="ACCH_NO" type="STRING" size="256"/>
          <Column id="WOFH_SQ" type="STRING" size="256"/>
          <Column id="WOFH_YN" type="STRING" size="256"/>
          <Column id="WOFH_YN_NM" type="STRING" size="256"/>
          <Column id="ACCH_DD" type="STRING" size="256"/>
          <Column id="DEPM_CD" type="STRING" size="256"/>
          <Column id="DEPM_NM" type="STRING" size="256"/>
          <Column id="EMPM_CD" type="STRING" size="256"/>
          <Column id="EMPM_NM" type="STRING" size="256"/>
          <Column id="SYST_ID" type="STRING" size="256"/>
          <Column id="ACUM_CD" type="STRING" size="256"/>
          <Column id="ACUM_NM" type="STRING" size="256"/>
          <Column id="ACCH_GU" type="STRING" size="256"/>
          <Column id="ACCH_GU_NM" type="STRING" size="256"/>
          <Column id="ACTY_CD" type="STRING" size="256"/>
          <Column id="ACTY_NM" type="STRING" size="256"/>
          <Column id="ACCH_NM" type="STRING" size="256"/>
          <Column id="ACRE_NM" type="STRING" size="256"/>
          <Column id="ACCH_AM" type="STRING" size="256"/>
          <Column id="PARE_DD" type="STRING" size="256"/>
          <Column id="PACS_GU" type="STRING" size="256"/>
          <Column id="PACS_CD" type="STRING" size="256"/>
          <Column id="PACS_NM" type="STRING" size="256"/>
          <Column id="PABA_CD" type="STRING" size="256"/>
          <Column id="PABA_NM" type="STRING" size="256"/>
          <Column id="PAAC_NO" type="STRING" size="256"/>
          <Column id="IPARE_DD" type="STRING" size="256"/>
          <Column id="IPACS_GU" type="STRING" size="256"/>
          <Column id="IPACS_CD" type="STRING" size="256"/>
          <Column id="IPACS_NM" type="STRING" size="256"/>
          <Column id="IPABA_CD" type="STRING" size="256"/>
          <Column id="IPABA_NM" type="STRING" size="256"/>
          <Column id="IPAAC_NO" type="STRING" size="256"/>
          <Column id="SLIP_YN" type="STRING" size="256"/>
          <Column id="SLIP_NO" type="STRING" size="256"/>
          <Column id="SLIP_DD" type="STRING" size="256"/>
          <Column id="SLIP_EMP_NO" type="STRING" size="256"/>
          <Column id="SLIP_EMP_NM" type="STRING" size="256"/>
          <Column id="SLIP_ID" type="STRING" size="256"/>
          <Column id="SLIP_NM" type="STRING" size="256"/>
          <Column id="SLIP_DEPMCD" type="STRING" size="256"/>
          <Column id="SLIP_DEPMNM" type="STRING" size="256"/>
          <Column id="TRAN_YN" type="STRING" size="256"/>
          <Column id="DELE_YN" type="STRING" size="256"/>
          <Column id="WOFH_NO" type="STRING" size="256"/>
          <Column id="WOFH_ST" type="STRING" size="256"/>
          <Column id="WOFH_ST_NM" type="STRING" size="256"/>
          <Column id="REMK_NM" type="STRING" size="256"/>
          <Column id="EXPT_YN" type="STRING" size="256"/>
          <Column id="EXPT_RE" type="STRING" size="256"/>
          <Column id="REGI_ID" type="STRING" size="256"/>
          <Column id="REGI_NM" type="STRING" size="256"/>
          <Column id="REGI_DT" type="STRING" size="256"/>
          <Column id="MODI_ID" type="STRING" size="256"/>
          <Column id="MODI_NM" type="STRING" size="256"/>
          <Column id="MODI_DT" type="STRING" size="256"/>
          <Column id="DELE_ID" type="STRING" size="256"/>
          <Column id="DELE_NM" type="STRING" size="256"/>
          <Column id="DELE_DT" type="STRING" size="256"/>
          <Column id="PACS_GU_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ComWfLine">
        <ColumnInfo>
          <Column id="POSI_NM1" type="STRING" size="256"/>
          <Column id="APPR_NM1" type="STRING" size="256"/>
          <Column id="SIGN_UL1" type="STRING" size="256"/>
          <Column id="APPR_TM1" type="STRING" size="256"/>
          <Column id="POSI_NM2" type="STRING" size="256"/>
          <Column id="APPR_NM2" type="STRING" size="256"/>
          <Column id="SIGN_UL2" type="STRING" size="256"/>
          <Column id="APPR_TM2" type="STRING" size="256"/>
          <Column id="POSI_NM3" type="STRING" size="256"/>
          <Column id="APPR_NM3" type="STRING" size="256"/>
          <Column id="SIGN_UL3" type="STRING" size="256"/>
          <Column id="APPR_TM3" type="STRING" size="256"/>
          <Column id="POSI_NM4" type="STRING" size="256"/>
          <Column id="APPR_NM4" type="STRING" size="256"/>
          <Column id="SIGN_UL4" type="STRING" size="256"/>
          <Column id="APPR_TM4" type="STRING" size="256"/>
          <Column id="POSI_NM5" type="STRING" size="256"/>
          <Column id="APPR_NM5" type="STRING" size="256"/>
          <Column id="SIGN_UL5" type="STRING" size="256"/>
          <Column id="APPR_TM5" type="STRING" size="256"/>
          <Column id="POSI_NM6" type="STRING" size="256"/>
          <Column id="APPR_NM6" type="STRING" size="256"/>
          <Column id="SIGN_UL6" type="STRING" size="256"/>
          <Column id="APPR_TM6" type="STRING" size="256"/>
          <Column id="POSI_NM7" type="STRING" size="256"/>
          <Column id="APPR_NM7" type="STRING" size="256"/>
          <Column id="SIGN_UL7" type="STRING" size="256"/>
          <Column id="APPR_TM7" type="STRING" size="256"/>
          <Column id="POSI_NM8" type="STRING" size="256"/>
          <Column id="APPR_NM8" type="STRING" size="256"/>
          <Column id="SIGN_UL8" type="STRING" size="256"/>
          <Column id="APPR_TM8" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ComWfDrLine">
        <ColumnInfo>
          <Column id="POSI_NM1" type="STRING" size="256"/>
          <Column id="APPR_NM1" type="STRING" size="256"/>
          <Column id="SIGN_UL1" type="STRING" size="256"/>
          <Column id="APPR_TM1" type="STRING" size="256"/>
          <Column id="POSI_NM2" type="STRING" size="256"/>
          <Column id="APPR_NM2" type="STRING" size="256"/>
          <Column id="SIGN_UL2" type="STRING" size="256"/>
          <Column id="APPR_TM2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ComWfAtLine">
        <ColumnInfo>
          <Column id="POSI_NM1" type="STRING" size="256"/>
          <Column id="APPR_NM1" type="STRING" size="256"/>
          <Column id="SIGN_UL1" type="STRING" size="256"/>
          <Column id="APPR_TM1" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ComFileList">
        <ColumnInfo>
          <Column id="COMM_CD" type="STRING" size="256"/>
          <Column id="FILE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.1"><![CDATA[/**
*  @화면ID   : M_FA_1000
*  @화면설명 : 회계전표등록 - 결재
*  @시스템명 : (FA) 재무회계
*  @작성자   : 이충근
*  @작성일   : 2021.05.25
*  @Desction    
******************* 소스 수정 이력 ************************************************************
*  일자          		수정자                비고
*************************************************************************************************
*  2021.05.25     	    이충근 	           최초 생성 
*  2022.02.22           임재원             마스터내역 우측 입력항목 사이즈 수정 
*************************************************************************************************
*/    

/***********************************************************************************************
 * 0. 폼로드
 ***********************************************************************************************/
/***********************************************************************************************
 * 00.01. Form Include 선언
 ***********************************************************************************************/
//include "comLib::CommonUtil.xjs";//공통함수

/***********************************************************************************************
 * 00.02. Form 변수 선언
 ***********************************************************************************************/
this.fvComPrgmId = "";//[필수]프로그램ID-메인화면기준, 팝업일경우 해당 메인화면의 프로그램ID
//this.fvComPrgmId = "M_FA_1000";//[필수]프로그램ID-화면로드시 메뉴정보 기준으로 재설정됨.
this.fvFormComBtnAuthYn = false;//그리드 공통버튼 권한 유무
this.fvFileDiv = this.div_MasterInput.form.tab_Master.tpg_03.form.div_CommFile.form;//[첨부파일]Div
this.fvPathNm = "FA";//[첨부파일]업무파일경로
this.fvDsRowPosChange = true;//데이터셋 Row 변경이벤트-실행유무
this.fvSchKeyYn = false;//저장후 재조회여부
this.fvSchKey01 = "";//조회Key01
this.fvSchKey02 = "";//조회Key02
this.fvSchKey03 = "";//조회Key03
this.fvWfSearchMode = false;//[결재]결재내역 조회모드
this.fvWfPopupMode = false;//[결재]결재내역 팝업화면으로 호출여부
this.fvComWofhNo = "";//[결재]결재PID
this.fvWofhStatus = false;//[결재]결재상태 조회모드 (등록=false, 그외 true)

var fvFileInfo = new Object();//[첨부파일]정보
//관리항목 팝업 콜백관련 변수
this.fvCmMaPopupId01 = "";//팝업호출ID-01
this.fvCmMaRtnColCd01 = "";//팝업리턴 코드변수-01
this.fvCmMaRtnVColCd01 = "";//팝업리턴 코드변수-01
this.fvCmMaRtnColNm01 = "";//팝업리턴 코드명변수-01
this.fvCmMaPopupId02 = "";//팝업호출ID-02
this.fvCmMaRtnColCd02 = "";//팝업리턴 코드변수-02
this.fvCmMaRtnVColCd02 = "";//팝업리턴 코드변수-02
this.fvCmMaRtnColNm02 = "";//팝업리턴 코드명변수-02
this.fvCmMaPopupId03 = "";//팝업호출ID-03
this.fvCmMaRtnColCd03 = "";//팝업리턴 코드변수-03
this.fvCmMaRtnVColCd03 = "";//팝업리턴 코드변수-03
this.fvCmMaRtnColNm03 = "";//팝업리턴 코드명변수-03
this.fvCmMaPopupId04 = "";//팝업호출ID-04
this.fvCmMaRtnColCd04 = "";//팝업리턴 코드변수-04
this.fvCmMaRtnVColCd04 = "";//팝업리턴 코드변수-04
this.fvCmMaRtnColNm04 = "";//팝업리턴 코드명변수-04
this.fvCmMaPopupId05 = "";//팝업호출ID-05
this.fvCmMaRtnColCd05 = "";//팝업리턴 코드변수-05
this.fvCmMaRtnVColCd05 = "";//팝업리턴 코드변수-05
this.fvCmMaRtnColNm05 = "";//팝업리턴 코드명변수-05
this.fvCmMaPopupId06 = "";//팝업호출ID-06
this.fvCmMaRtnColCd06 = "";//팝업리턴 코드변수-06
this.fvCmMaRtnVColCd06 = "";//팝업리턴 코드변수-06
this.fvCmMaRtnColNm06 = "";//팝업리턴 코드명변수-06
this.fvCmMaPopupId07 = "";//팝업호출ID-07
this.fvCmMaRtnColCd07 = "";//팝업리턴 코드변수-07
this.fvCmMaRtnVColCd07 = "";//팝업리턴 코드변수-07
this.fvCmMaRtnColNm07 = "";//팝업리턴 코드명변수-07
this.fvCmMaPopupId08 = "";//팝업호출ID-08
this.fvCmMaRtnColCd08 = "";//팝업리턴 코드변수-08
this.fvCmMaRtnVColCd08 = "";//팝업리턴 코드변수-08
this.fvCmMaRtnColNm08 = "";//팝업리턴 코드명변수-08

this.fvCmScrnCallFunc = "";//화면호출변수명
this.fvCmScrnCallArgs;//화면전달파라메타

this.popAcchNo = "";  // 발의번호
this.popWofhSq = "";  //결재차수

this.fvBCalAvailAmt = false;//가용금액계산여부


/***********************************************************************************************
 * 00.03. Form Onload 이벤트
 ***********************************************************************************************/
this.fn_FormOnload = function (obj:Form, e:LoadEventInfo)
{	
	
	this.fn_FormComInit();//[공통] 화면로드시 초기 설정 함수
	this.fn_FormBizInit();//[업무] 화면로드시 초기 설정 함수 

}

/***********************************************************************************************
 * 00.04. Form [공통] 초기설정 함수 - 필수
 ***********************************************************************************************/
this.fn_FormComInit = function() 
{
	this.gfn_CommFormOnLoad(this);//[공통] 화면로드시 처리 함수(다국어등)
	this.fvComPrgmId = "M_FA_1000";//[필수]프로그램ID-메인화면기준, 팝업일경우 해당 메인화면의 프로그램ID - 결재화면인 경우에는 메뉴에서 클릭한게 아니기 때문에 해당 프로그램ID로 설정
//	this.gfn_SetGrid(this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10);//[공통]그리드 이벤트 설정 - 발의상세

	this.fn_SetTabComAttachFile();//[공통] 첨부파일 Tab 설정

}

/***********************************************************************************************
 * 00.05. Form [업무] 초기설정 함수
 ***********************************************************************************************/
this.fn_FormBizInit = function() 
{ 

	//[공통] 공통코드 설정 : 공통코드|데이터셋명|초기항목추가여부(Y/N)|추가항목
	// 발의시스템(AC067), 발의구분(AC072)
	//ds_Fa112 발의시스템
	//ds_Fa110 발의구분
	//ds_Fa114 입금/지급구분 
	//ds_Fa040 //차대구분
	//ds_Wf110 결재상태
	var objCondList = ["FA112|ds_Fa112","FA110|ds_Fa110","FA005|ds_Fa005","FA114|ds_Fa114|Y|","FA040|ds_Fa040","SM020|ds_Sm020","WF110|ds_Wf110"];
	//공통코드 설정함수 호출				   
	this.gfn_GetCommCode(this, objCondList, "");
	
	//차대구분filter
	this.ds_Fa040.filter();
	this.ds_Fa040.filter("OP01_NM == '1'");
	
	//콤보 인덱스 설정
	//발의시스템
	this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_ActyCd.set_index(0);
	//발의구분
	this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_AcchGu.set_index(0);
	
	//결재함 화면에 결재번호가 있는 경우 조회 호출
	if (!this.gfn_IsNull(this.parent.parent.fvNowWofhNo)) {
		this.fn_ComBtnSearch(this.parent.parent.fvNowWofhNo); 
	}	
	
	//[업무] 일반콤보조회
	this.fn_ComboSearch();
}

/***********************************************************************************************
 * 00.06. Form [업무] 일반콤보 조회 함수
 ***********************************************************************************************/
this.fn_ComboSearch = function() 
{
	this.ds_Item.clearData();

	//[공통]서비스정보 초기화
	this.gfn_InitComService(this);
	
	//[공통]서비스정보 추가
	var svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object
	svcAddObj.sSelectSql = "sd:M_SD_CBAB_C_SL20";	//사업자
	this.gfn_AddComSearchService(this, svcAddObj);

	//[공통]서비스 호출 변수
	var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
	svcCallObj.sTrid = "COMBO_SEARCH";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
	svcCallObj.sActionName = this.G_SV_SD;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
	svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
	svcCallObj.sOutDatset = "ds_SdCbabFull=ds_SdCbabFull";//출력 데이터셋
	svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
	svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명

	//[공통]서비스 호출
	this.gfn_CallComService(this, svcCallObj);
	
	 
}

/***********************************************************************************************
 * 00.07. Form OnClose 이벤트
 ***********************************************************************************************/
this.fn_FormClose = function(obj:nexacro.Form,e:nexacro.CloseEventInfo)
{
	//현재 이벤트를 상위컴포넌트로 전파하지 않게 중지시키는 메소드
	e.stopPropagation(); 
};

/***********************************************************************************************
 * 1. 조회 영역
 ***********************************************************************************************/
/***********************************************************************************************
 * 01.01. [공통버튼] 조회 버튼 클릭 이벤트
 ***********************************************************************************************/
this.fn_ComBtnSearch = function(sWofhNo)
{ 
	
	//조회전 유효성 체크
	if (!this.fn_VaildSearch()) return;	

	//저장후 재조회시-마스터 데이터셋 이벤트 비활성화
	if (this.fvSchKeyYn) {
		this.ds_Master10.set_enableevent(false);
	}

	this.fvComWofhNo = sWofhNo;//[결재]결재PID

	//[업무] 데이터셋 설정 - 데이터셋 초기화, 조회조건 설정
	this.ds_Master10.clearData();
	this.ds_Detail10.clearData();
	this.ds_Input.clearData();
	this.fvFileDiv.fn_ClearAtchFile();//첨부파일 정보 초기화
	
	this.ds_Input.addRow();
	
	var sSqlId = "";//쿼리ID

	this.ds_Input.setColumn(0, "WOFH_NO", sWofhNo);//결재PID
	sSqlId = "fa:M_FA_1000_M_SL11";//쿼리ID

	//[공통]서비스정보 초기화
	this.gfn_InitComService(this);
	
	//[공통]서비스정보 추가
	var svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object

	svcAddObj.sSelectSql = sSqlId;
	this.gfn_AddComSearchService(this, svcAddObj);
	
	//[공통]서비스 호출 변수
	var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
	svcCallObj.sTrid = "MST_SEARCH";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
	svcCallObj.sActionName = this.G_SV_FA;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
	svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
	svcCallObj.sOutDatset = "ds_Master10=ds_Master10";//출력 데이터셋
	svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
	svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명
	svcCallObj.sComBtnDst = "SEARCH";//공통버튼구분-조회버튼
	svcCallObj.sPrgmId = this.fvComPrgmId;//프로그램ID

	//[공통]서비스 호출
	this.gfn_CallComService(this, svcCallObj);	
}

/***********************************************************************************************
 * 01.02. [Vaildation] 조회 필수값 체크
 ***********************************************************************************************/
this.fn_VaildSearch = function()
{
	return true;
}

/***********************************************************************************************
 * 2. 입력
 ***********************************************************************************************/
/***********************************************************************************************
 * 02.01. [공통버튼] 입력 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnAdd = function()
{
	
}

/***********************************************************************************************
 * 02.MF0.01. [Master Freeform 공통] 입력항목 클릭/변경 이벤트
 ***********************************************************************************************/
/***********************************************************************************************
 *    01. [부서]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 부서 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 부서코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  

/***********************************************************************************************
 *    02. [사용자]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 사용자 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 사원코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  

/***********************************************************************************************
 *    03. [회계단위]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 회계단위 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/


/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 회계단위 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  

/***********************************************************************************************
 *    04. [지급처/입금처]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 지급처/입금처 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 지급처/입금처 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  
this.div_MasterInput_tab_Master_tpg_01_edt_PacsCd_onchanged = function(obj:nexacro.Edit,e:nexacro.ChangeEventInfo)
{
//  	this.gfn_GetCommCnth(this.div_MasterInput.form.tab_Master.tpg_01.form.mae_CnthNo, this.div_MasterInput.form.tab_Master.tpg_01.form.edt_CnthNm);//코드로 검색		
};  
  
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 프로젝트 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  
  
/***********************************************************************************************
 *    05. [거래처]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 거래처 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 거래처코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  

/***********************************************************************************************
 *    06. [사업장]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 사업장 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 사업장코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  
  
/***********************************************************************************************
 *    07. [W/O]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] W/O 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] W/O 변경 이벤트
  ---------------------------------------------------------------------------------------------*/    
  
/***********************************************************************************************
 *    08. [품목코드]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 품목코드 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 품목코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/    

/***********************************************************************************************
 *    09. [계정코드]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 계정코드 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 계정코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/    

/***********************************************************************************************
 *    10. [비고]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 발의내용 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/

this.div_MasterInput_tab_Master_tpg_01_btn_AcreNmPop_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	if (!this.gfn_IsNull(this.div_MasterInput.form.tab_Master.tpg_01.form.txt_AcreNm.value)) {
		var sPopupId = "M_REMK_01";//팝업ID - 비고상세
		var sTitle = this.div_MasterInput.form.tab_Master.tpg_01.form.Sta_AcreNm.text;//팝업 타이틀
		var oArg = {  Remk:this.div_MasterInput.form.tab_Master.tpg_01.form.txt_AcreNm.value};//Argument처리
		this.gfn_RemkPop(sPopupId, sTitle, oArg);		
	}
};



/***********************************************************************************************
 *    10. [발의구분]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 발의구분 변경 이벤트
  ---------------------------------------------------------------------------------------------*/  
this.div_MasterInput_tab_Master_tpg_01_cbo_AcchGu_onitemchanged = function(obj:nexacro.Combo,e:nexacro.ItemChangeEventInfo)
{
	
	// 데이타 변경시 ds_Fa100 에서 지출(0)/수입(1)구분값을 가져와
	// 입력항목(지급/입금) text 를 변경한다.
	this.fn_cbo_AcchGu(e.postvalue, true);

};

/***********************************************************************************************
 * 02.MF0.02. [Master Freeform 일반] 입력항목 클릭/변경 이벤트
 ***********************************************************************************************/
/***********************************************************************************************
 *    01. [고객]
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Button] 고객 버튼 클릭 이벤트
  ---------------------------------------------------------------------------------------------*/


/*---------------------------------------------------------------------------------------------
 *    [Master 입력영역-Edit] 고객코드 변경 이벤트
  ---------------------------------------------------------------------------------------------*/   

/***********************************************************************************************
 *    [Master 입력영역-Edit] enterkey  event
 ***********************************************************************************************/ 

/***********************************************************************************************
 * 02.MF0.03. [Master 데이터셋] 변경 이벤트
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    01. [데이터셋-ds_Master10] 데이터 Row 변경 이벤트
  ---------------------------------------------------------------------------------------------*/
this.ds_Master10_onrowposchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
	var sLeng;
	if (e.newrow > -1) {

		//발의No정보가 있으면 - 상세조회
		if (!this.gfn_IsNull(this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_NO"))) {
		
			sLeng = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_NO").length;
			
			if (sLeng > 10){
				this.div_MasterInput.form.tab_Master.tpg_01.form.mae_AcchNo.set_format("@@@@@@@@-@@@@");
			}else{
				this.div_MasterInput.form.tab_Master.tpg_01.form.mae_AcchNo.set_format("@@@@@@-@@@@");
			}
		

			if (!this.gfn_IsNull(this.ds_Master10.getColumn(this.ds_Master10.rowposition, "SLIP_NO"))) {
				sLeng = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "SLIP_NO").length;
				
				if (sLeng > 10){
					this.div_MasterInput.form.tab_Master.tpg_01.form.mae_SlipNo.set_format("@@@@@@@@-@@@@");
				}else{
					this.div_MasterInput.form.tab_Master.tpg_01.form.mae_SlipNo.set_format("@@@@@@-@@@@");
				}
			}
		
		
			//[업무] 데이터셋 설정 - 데이터셋 초기화, 조회조건 설정
			this.ds_Detail10.clearData();
			this.ds_Input.clearData();
			
			this.ds_Input.addRow();
			this.ds_Input.setColumn(0, "ACCH_NO", this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_NO"));
			this.ds_Input.setColumn(0, "WOFH_SQ", this.ds_Master10.getColumn(this.ds_Master10.rowposition, "WOFH_SQ"));
			this.ds_Input.setColumn(0, "PRGM_ID", this.fvComPrgmId);
					
			//[공통]서비스정보 초기화
			this.gfn_InitComService(this);
			
			//[공통]서비스정보 추가
			var svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object
			svcAddObj.sSelectSql = "fa:M_FA_1000_D_SL10";
			this.gfn_AddComSearchService(this, svcAddObj);
			
			//[공통]서비스 호출 변수
			var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
			svcCallObj.sTrid = "DTL_SEARCH";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
			svcCallObj.sActionName = this.G_SV_FA;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
			svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
			svcCallObj.sOutDatset = "ds_Detail10=ds_Detail10";//출력 데이터셋
			svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
			svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명

			//[공통]서비스 호출
			this.gfn_CallComService(this, svcCallObj);		
		}

		//발의구분에 따라 지급/입금
		this.fn_cbo_AcchGu(this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_GU"), false);

	}
	 
};


/*---------------------------------------------------------------------------------------------
 *    02. [데이터셋-ds_Master10] Row 변경전 이벤트
  ---------------------------------------------------------------------------------------------*/
this.ds_Master10_canrowposchange = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
	if (!this.fvDsRowPosChange) return;//Row변경이벤트 수행유무


	//데이터 변경여부 체크
	if (this.gfn_DsIsUpdated(this.ds_Master10) || this.gfn_DsIsUpdated(this.ds_Detail10)) {
		this.gfn_Confirm("SM003", "", "CONF.MAST_CHANGE", "fn_MsgCallback");//변경된 내역을 저장 하시겠습니까?

		return false;
	}	

	return true;
};  





/***********************************************************************************************
 * 02.MG0.01. [Master그리드-버튼] 복사 클릭 이벤트
 ***********************************************************************************************/
this.fn_MasterGrd01Copy = function()
{
};

/***********************************************************************************************
 * 02.MG0.02. [Master그리드-버튼] 행추가 클릭 이벤트
 ***********************************************************************************************/
this.fn_MasterGrd01AddRow = function()
{
};

/***********************************************************************************************
 * 02.MG0.03. [Master그리드-버튼] 행삽입 클릭 이벤트
 ***********************************************************************************************/
this.fn_MasterGrd01InsertRow = function()
{
};

/***********************************************************************************************
 * 02.MG0.04. [Master그리드-버튼] 행삭제 클릭 이벤트
 ***********************************************************************************************/
this.fn_MasterGrd01DeleteRow = function()
{
};

/***********************************************************************************************
 * 02.MG0.05. [Master그리드-버튼] 취소 클릭 이벤트
 ***********************************************************************************************/
this.fn_MasterGrd01Cancel = function()
{
};
 
/***********************************************************************************************
 * 02.MG0.06. [Master그리드] 셀 클릭 이벤트
 ***********************************************************************************************/ 

 
/***********************************************************************************************
 * 02.MG0.07. [Master 데이터셋] 변경 이벤트
 ***********************************************************************************************/
 
/***********************************************************************************************
 * 02.DF0.01. [Detail Freeform 공통] 입력항목 클릭/변경 이벤트
 ***********************************************************************************************/
/***********************************************************************************************
 * 02.DF0.02. [Detail Freeform 일반] 입력항목 클릭/변경 이벤트
 ***********************************************************************************************/
/***********************************************************************************************
 *    01. [예산부서]
 ***********************************************************************************************/
this.div_DetailInput_div_detailRight_div_Budget_edt_BudgetDeptCd_onchanged = function(obj:nexacro.Edit,e:nexacro.ChangeEventInfo)
{
	var sPopupId = "M_DEPM_CD_01";//팝업ID - 부서코드
//	this.gfn_GetCommDepm("C", this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptCd, this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptNm, sPopupId);//코드로 검색
    this.gfn_GetCommAuDepm(this.fvComPrgmId,"C", this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptCd, this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptNm, sPopupId);//코드로 검색

};

 /***********************************************************************************************
 *    05. [예산부서] - 부서찾기 버튼 클릭
 ***********************************************************************************************/
this.div_DetailInput_div_detailRight_div_Budget_btn_BudgetDept_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	//예산 - 예산부서
	var sPopupId = "B_SDDP_CD_01";//팝업ID - 예산부서
//	var oArg = { DepmNm:this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptCd.value };//Argument처리
    var oArg = {PrgmId:this.fvComPrgmId, AuthYn:"Y", DepmNm:this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptCd.value };//Argument처리

	this.gfn_DeptPop(sPopupId, oArg);

};
 
/***********************************************************************************************
 * 02.DG0.01. [Detail그리드-버튼] 복사 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd01Copy = function()
{
};

/***********************************************************************************************
 * 02.DG0.02. [Detail그리드-버튼] 행추가 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd01AddRow = function()
{

};

/***********************************************************************************************
 * 02.DG0.03. [Detail그리드-버튼] 행삽입 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd01InsertRow = function()
{

};


/***********************************************************************************************
 * 02.DG0.04. [Detail그리드-버튼] 행삭제 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd01DeleteRow = function()
{

};

/***********************************************************************************************
 * 02.DG0.05. [Detail그리드-버튼] 취소 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd01Cancel = function()
{

};
 
/***********************************************************************************************
 * 02.DG0.06. [Detail그리드] 셀 클릭 이벤트
 ***********************************************************************************************/ 
/*---------------------------------------------------------------------------------------------
 *    01. [그리드-grd_Detail10] 셀클릭 이벤트
  ---------------------------------------------------------------------------------------------*/
this.div_DetailInput_tab_Detail_tpg_01_grd_Detail10_oncellclick = function(obj:nexacro.Grid,e:nexacro.GridClickEventInfo)
{
	//그리드 콤보 및 캘린더 클릭시 펼치기
	obj.dropdownCombo();
	obj.dropdownCalendar();
		 
	var sCONF_YN = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "CONF_YN");//마감여부

	//마감되었으면 팝업호출 안됨.
	if (sCONF_YN == "1" && e.col != 12) {
		return;
	}
	 
	if (e.col == 6) {
		//결재진행상태가 아닌경우
		if (!this.fvWofhStatus) {
		   //계정
			var sPopupId = "S_ACOM_CD_01";//팝업ID - 계정코드
			var oArg = { AcomNm:this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "ACOM_CD")};//Argument처리
			this.gfn_AcomPop(sPopupId, oArg);  
		}
	} else if (e.col == 8){
		//결재진행상태가 아닌경우
		if (!this.fvWofhStatus) {
			//손익
			var sPopupId = "B_PALM_CD_01";//팝업ID - 손익코드
			var oArg = { PalmCd:"", PalmNm:"" };//Argument처리
			this.gfn_PalmPop(sPopupId, oArg);
		}
	} else if (e.col == 12){
		//적요
		if (!this.gfn_IsNull(this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "REMK_NM"))) {
			var sPopupId = "B_REMK_01";//팝업ID - 비고상세
			var sTitle = "적요";//팝업 타이틀
			var oArg = {  Remk:this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "REMK_NM")};//Argument처리
			this.gfn_RemkPop(sPopupId, sTitle, oArg);		
		}
	} else if (e.col == 14){
		//결재진행상태가 아닌경우
		if (!this.fvWofhStatus) {
			//예산부서 BUDP_NM
			var sPopupId = "B_DEPM_CD_01";//팝업ID - 부서코드
			var oArg = { BudpNm:""};  // Argument처리
			this.gfn_DeptPop(sPopupId, oArg);
		}
	}
	
};
/***********************************************************************************************
 *    01. [그리드-grd_Detail10] enterkey 이벤트
 ***********************************************************************************************/ 
this.div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onenterdown = function(obj:nexacro.Grid,e:nexacro.GridEditEventInfo)
{
	//trace("1");
	obj.moveToNextCell();
};


/***********************************************************************************************
 *    02. [그리드-grd_Detail10] onsetFocus 이벤트
 ***********************************************************************************************/ 
this.div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onsetfocus = function(obj:nexacro.Grid,e:nexacro.SetFocusEventInfo)
{

};
/***********************************************************************************************
 *    03. [그리드-grd_Detail10] onnodataareadblclick 이벤트
 ***********************************************************************************************/
this.div_DetailInput_tab_Detail_tpg_01_grd_Detail10_onnodataareadblclick = function(obj:nexacro.Grid,e:nexacro.MouseEventInfo)
{

};


/***********************************************************************************************
 * 02.DG0.07. [Detail 데이터셋] 변경 이벤트
 ***********************************************************************************************/
/*---------------------------------------------------------------------------------------------
 *    01. [데이터셋-ds_Detail10] 데이터변경 이벤트
  ---------------------------------------------------------------------------------------------*/  
this.ds_Detail10_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	//trace("===============this.ds_Detail10_oncolumnchanged================" + e.columnid);
	var bCheckBgcm = false;//예산편성계정여부

	this.gfn_GridUpdateProcess(this, obj, e);//crudType 변경-수정(U)

	//예산부서명
	if(e.columnid == "BUDP_NM"){
		this.fn_GetBudg();//예산통제정보 조회
		//this.gfn_GetCommDepmGrid(obj, "BUDP_CD", "BUDP_NM");//부서명 검색
	} else if(e.columnid == "PALM_NM"){
		//this.gfn_GetCommPalmGrid(obj, "PALM_CD", "PALM_NM");//손익 검색
	//대변금액
	} else if(e.columnid == "CRED_AM"){
		//master10 금액에 차변금액 자동 입력
		this.fn_AcchAmt();
		if (!this.fvBCalAvailAmt) {
			this.fn_CalAvailAm();//가용금액 계산
		}		
	//차변금액
	} else if(e.columnid == "DEBI_AM"){		
		if (!this.fvBCalAvailAmt) {
			this.fn_CalAvailAm();//가용금액 계산
		}	
	//계정코드
	} else if(e.columnid == "ACOM_CD"){
	    
		var arrArgs = ["DECR_GU_CHK"];
		this.gfn_GetCommAcomGrid(obj, "ACOM_CD", "ACOM_NM", arrArgs, "fn_CommAcomCallbackFunc"); // 계정명검색	

	//차대구분
	} else if (e.columnid == "DECR_GU"){
		
		// D: 차변 일 경우 대변 금액을 지우고
		// C: 대변 일 경우 차변 금액을 지운자.
		if(e.newvalue =="C"){
			//차변
			this.ds_Detail10.setColumn(e.row, "DEBI_AM", 0);
		}else{
		    //대변
		    //대변일경우 차변금액을 지운다.
			this.ds_Detail10.setColumn(e.row, "CRED_AM", 0);
		}
		
		//관리항목 조회
		this.fn_dsAcomMa(this.ds_Detail10.getColumn(e.row, "ACOM_CD"), "SET", bCheckBgcm);	
		
	//편성년월
	} else if(e.columnid == "BUDG_MM"){
		var sACOM_CD = this.ds_Detail10.getColumn(e.row, "ACOM_CD");//계정코드
		var sBUDG_MM = this.gfn_Nvl(this.ds_Detail10.getColumn(e.row, "BUDG_MM"), "");//편성년월
	
		if (!this.gfn_IsNull(sACOM_CD) && !this.gfn_IsNull(sBUDG_MM)) {
			//[예산통제 계정] 체크
			var paramObj= new Object();//[공통] 예산통제체크 파라메타 정보 Object
			paramObj.BGCM_YY = sBUDG_MM.substr(0, 4);//편성년도
			paramObj.ACOM_CD = sACOM_CD;//계정코드
			bCheckBgcm = this.gfn_CheckBgcm(paramObj);//예산편성계정여부 체크

			//예산통제계정
			if (bCheckBgcm) {
			
				//마감여부 체크
				var paramObj= new Object();//[공통] 예산통제체크 파라메타 정보 Object
				var mgasDst  = "C";//[필수] 마감구분 - C: 마감여부, A: 회계마감여부  
				paramObj.MGAS_MM = sBUDG_MM;//마감년월
				paramObj.MODM_CD = "CC";//[필수] 모듈구분(공통코드-CA910(마감구분) 참조) : CC - 예산편성확정 마감여부, CB - 예산마감 여부
				paramObj.ACUM_CD = "";//[선택] 회계단위
				paramObj.BUSM_CD  = "";//[선택] 사업부문
				paramObj.SAUM_CD  = "";//[선택] 사업장코드
				paramObj.DEPM_CD  = "";//[선택] 부서코드
				paramObj.MODD_CD  = "";//[선택] 모듈상세구분(CA900)
				paramObj.BFPR_YN  = "Y";//[선택] 마감전 프로세스여부
				
				var bCheck = this.gfn_CheckMgas(paramObj, mgasDst);

				//예산편성확정 되었을경우
				if (!bCheck) {
					this.gfn_Alert("CA017");//해당월의 예산편성확정 정보가 없습니다.
					this.ds_Detail10.setColumn(e.row, "ACOM_NM", "");//계정코드명	
					this.ds_Detail10.setColumn(e.row, "DECR_GU_CHK", "");//차대구분-체크				
					this.ds_Detail10.setColumn(e.row, "ACOM_CD", "");//계정코드					
					return;
				}
	
				var sDECR_GU = this.ds_Detail10.getColumn(e.row, "DECR_GU");//차대구분
				var sDECR_GU_CHK = this.ds_Detail10.getColumn(e.row, "DECR_GU_CHK");//차대구분-계정
	
				//선택한것과 계정코드의 차대구분이 같을 경우
				if ((sDECR_GU == "D" && sDECR_GU_CHK == "D") || (sDECR_GU == "C" && sDECR_GU_CHK == "C")) {
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("1");
					this.ds_Detail10.setColumn(e.row, "BGCM_YN", "Y");//예산통제여부
				} else {
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
					this.ds_Detail10.setColumn(e.row, "BGCM_YN", "N");//예산통제여부
				}
				
			} else {
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
				this.ds_Detail10.setColumn(e.row, "BGCM_YN", "N");//예산통제여부
			}
		}		
		this.fn_GetBudg();//예산통제정보 조회

	}
	
};
/*---------------------------------------------------------------------------------------------
 *    02. [데이터셋-ds_Detail10] valuechanged
  ---------------------------------------------------------------------------------------------*/  
this.ds_Detail10_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{

};

/*---------------------------------------------------------------------------------------------
 *    02. [데이터셋-ds_Detail10] rowposchanged
  ---------------------------------------------------------------------------------------------*/  
this.ds_Detail10_onrowposchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
	//trace("ds_Detail10_onrowposchanged start");
	var bCheckBgcm = false;//예산편성계정여부
	
	//예산정보 설정
	if (e.newrow > -1) {
		//trace("ds_Detail10_onrowposchanged 1");
		//예산정보 초기화
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
		//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetAcomCd.set_value("");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RecAm.set_value("0");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_UsedAm.set_value("0");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RegAm.set_value("0");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm.set_value("0");		
	
		var sACOM_CD = this.ds_Detail10.getColumn(e.newrow, "ACOM_CD");//계정코드
		var sBUDG_MM = this.gfn_Nvl(this.ds_Detail10.getColumn(e.newrow, "BUDG_MM"), "");//편성년월
		var sDECR_GU = this.ds_Detail10.getColumn(e.newrow, "DECR_GU");//차대구분
		
		//trace("ds_Detail10_onrowposchanged 2");
		if (!this.gfn_IsNull(sACOM_CD) && !this.gfn_IsNull(sBUDG_MM)) {
			//[예산통제 계정] 체크
			var paramObj= new Object();//[공통] 예산통제체크 파라메타 정보 Object
			paramObj.BGCM_YY = sBUDG_MM.substr(0, 4);//편성년도
			paramObj.ACOM_CD = sACOM_CD;//계정코드
			bCheckBgcm = this.gfn_CheckBgcm(paramObj);//예산편성계정여부 체크

			//예산통제계정
			if (bCheckBgcm) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.set_visible(true);
				
				var sDECR_GU_CHK = this.ds_Detail10.getColumn(e.newrow, "DECR_GU_CHK");//차대구분-계정
	
				//선택한것과 계정코드의 차대구분이 같을 경우
				if ((sDECR_GU == "D" && sDECR_GU_CHK == "D") || (sDECR_GU == "C" && sDECR_GU_CHK == "C")) {
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("1");
				} else {
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
				}				
			} else {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.set_visible(false);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
			}
		}
		
		//trace("ds_Detail10_onrowposchanged 3");
		//줄 변경시 관리항목 리스트만 조회
		this.fn_dsAcomMa(this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "ACOM_CD"), "", bCheckBgcm);
		
		//trace("ds_Detail10_onrowposchanged 4 = " + sDECR_GU);
		//차대구분에 따라 필수체크 표시
		this.fn_DecrGuCssclass(sDECR_GU);
		//trace("ds_Detail10_onrowposchanged 5");
	
	} else {
		//trace("ds_Detail10_onrowposchanged 6");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
		//생성된 관리항목 컴포넌트 삭제
		var arrComList = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.components;//Div 생성된 전체 컴폰넌트

		if (!this.gfn_IsNull(arrComList)) {

			for (var iLoop = arrComList.length-1; iLoop >= 0; iLoop--) {
				if (arrComList[iLoop].id != "sta_DetailRightBottom") {
					var rObj = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.removeChild(arrComList[iLoop].id);
					rObj.destroy();
					rObj = null;
				}
			}
		}
		
		//trace("ds_Detail10_onrowposchanged 7");
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.set_height(60);
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.set_top("div_Item:0");
				
	}
	//trace("ds_Detail10_onrowposchanged end");
	
};

/***********************************************************************************************
 * 02.DG0.08. [Detail Tab] 변경 이벤트
 ***********************************************************************************************/


/***********************************************************************************************
 * 02.DG1.01. [Detail그리드2-버튼] 전체선택 클릭 이벤트
 ***********************************************************************************************/
this.fn_DetailGrd02AllCheck = function()
{

};

 
/***********************************************************************************************
 * 02.DG1.06. [첨부 파일 그리드-버튼] 파일추가 클릭 이벤트
 ***********************************************************************************************/
this.fn_FileGrd01AddRow = function()
{

};

/***********************************************************************************************
 * 02.DG1.07. [첨부 파일 그리드-버튼] 파일삭제 클릭 이벤트
 ***********************************************************************************************/
this.fn_FileGrd01DeleteRow = function()
{

};


/***********************************************************************************************
 * 3. 복사
 ***********************************************************************************************/
/***********************************************************************************************
 * 03.01. [공통버튼] 복사 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnCopy = function()
{ 
}

/***********************************************************************************************
 * 4. 취소
 ***********************************************************************************************/
/***********************************************************************************************
 * 04.01. [공통버튼] 취소 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnCancel = function()
{ 

}

/***********************************************************************************************
 * 5. 저장
 ***********************************************************************************************/
/***********************************************************************************************
 * 05.01. [공통버튼] 저장 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnSave = function()
{ 

}

/***********************************************************************************************
 * 05.02. [Vaildation] Master 저장 필수값 체크 - 입력항목 
 ***********************************************************************************************/ 
this.fn_VaildMasterSave = function()
{
	
	return true;
}

/***********************************************************************************************
 * 05.03. [Vaildation] Detail 저장 필수값 체크 - 그리드항목
 ***********************************************************************************************/ 
this.fn_VaildDetailSave = function()
{

	return true;
}
 
/***********************************************************************************************
 * 6. 삭제
 ***********************************************************************************************/
/***********************************************************************************************
 * 06.01. [공통버튼] 삭제 버튼 클릭 이벤트
 ***********************************************************************************************/  
this.fn_ComBtnDelete = function()
{ 

}

/***********************************************************************************************
 * 06.02. [서비스] 삭제처리
 ***********************************************************************************************/  
this.fn_SvcDelete = function() 
{ 

}

/***********************************************************************************************
 * 06.03. [Vaildation] 삭제항목 체크
 ***********************************************************************************************/  
this.fn_VaildMasterDelete = function()
{

	return true;
}

/***********************************************************************************************
 * 7. 엑셀
 ***********************************************************************************************/
/***********************************************************************************************
 * 07.01. [공통버튼] 엑셀저장 버튼 클릭 이벤트
 ***********************************************************************************************/  
this.fn_ComBtnExcel = function()
{ 

}

/***********************************************************************************************
 * 8. 인쇄
 ***********************************************************************************************/
/***********************************************************************************************
 * 08.01. [공통버튼] 인쇄 버튼 클릭 이벤트
 ***********************************************************************************************/  
this.fn_ComBtnPrint = function()
{ 

	var iSelRow = this.ds_Master10.rowposition;//선택한Row

		if (this.ds_Master10.getRowCount() > 0 && iSelRow > -1) {
			
			this.ds_ComWfLine.clearData();
			this.ds_ComWfDrLine.clearData();
			this.ds_ComWfAtLine.clearData();
			this.ds_ComFileList.clearData(); //첨부파일  
			
			var sACCH_GU = this.ds_Master10.getColumn(iSelRow, "ACCH_GU");//발의구분
			var oDs = this.ds_ComWfLine;//결재라인정보
			var oDsAt = this.ds_ComWfAtLine;//결재라인정보-감사
			var sCommCd = this.ds_Master10.getColumn(iSelRow, "COMM_CD");//회사코드
			var sWofhNo = this.ds_Master10.getColumn(iSelRow, "WOFH_NO");//결재PID
			var sCallBackFunc = "fn_ComWfLineCallback";//콜백함수
			var sId = sACCH_GU;//콜백함수 구분ID - 발의구분
			
			
			//첨부파일 데이타셋에 담기 
			if ( this.fvFileDiv.ds_Smfilb.rowcount > 0 ) {
			
				this.ds_ComFileList.clearData();
				this.ds_ComFileList.addRow()	
				
				var sFileNmTmp = "";
				var sFileNm    = "";	
				
				for(var iLoop = 0; iLoop < this.fvFileDiv.ds_Smfilb.rowcount; iLoop++){
					sFileNmTmp = this.fvFileDiv.ds_Smfilb.getColumn(iLoop, "FILE_NM");
					if (iLoop == 0) {
						sFileNm   = sFileNmTmp; 		
					} else {   
						sFileNm   = sFileNm + ',  '+sFileNmTmp; 		
					}
				} //loop	
			
				this.ds_ComFileList.setColumn(0, "FILE_NM", sFileNm) ;//첨부파일제목 	// 
				
				//this.alert(this.ds_ComFileList.getColumn(0, 'FILE_NM'));
			
		  } //첨부파일 
			
			//레포트 결재라인 조회후 레포트 출력
			this.gfn_GetCommWfLine(this, oDs, sCommCd, sWofhNo, sCallBackFunc, sId, "", oDsAt);
				
		} else {
			this.gfn_Alert("SM083");//출력할 정보가 없습니다.
		}


}

/***********************************************************************************************
 * 9. 결재요청
 ***********************************************************************************************/
/***********************************************************************************************
 * 09.01. [공통버튼] 결재요청 버튼 클릭 이벤트
 ***********************************************************************************************/  
this.fn_ComBtnDecide = function()
{ 

}

/***********************************************************************************************
 * 09.02. [공통버튼] 결재요청 유효성체크
 ***********************************************************************************************/  
this.fn_VaildWfDecide = function() {
	
	return true;
}

/***********************************************************************************************
 * 10. 결재현황
 ***********************************************************************************************/
/***********************************************************************************************
 * 10.01. [공통버튼] 결재현황 버튼 클릭 이벤트
 ***********************************************************************************************/  
this.fn_ComBtnProcess = function()
{ 

}

/***********************************************************************************************
 * 11. 재기안
 ***********************************************************************************************/
/***********************************************************************************************
 * 11. 재기안
 ***********************************************************************************************/
/***********************************************************************************************
 * 11.01. [공통버튼] 재기안 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnRecide = function()
{ 

}

/***********************************************************************************************
 * 11.02. [공통버튼] 재기안 유효성체크
 ***********************************************************************************************/  
this.fn_VaildWfRecide = function() {

	return true;
}


/***********************************************************************************************
 * 11.03. [공통버튼] 재기안 서비스
 ***********************************************************************************************/ 
this.fn_ComBtnRecideProc = function()
{ 
	
}

/***********************************************************************************************
 * 12. 닫기
 ***********************************************************************************************/
/***********************************************************************************************
 * 12.01. [공통버튼] 닫기 버튼 클릭 이벤트
 ***********************************************************************************************/ 
this.fn_ComBtnClose = function()
{ 
	return true;
}

/***********************************************************************************************
 * 13. [CallBack] 함수
 ***********************************************************************************************/
/***********************************************************************************************
 * 13.01. [서비스] CallBack 함수 처리
 ***********************************************************************************************/ 
this.fn_Callback = function(sSvcId, nErrorCode, sErrorMsg)
{
	if(nErrorCode != 0)
	{
		return;
	}	
	switch(sSvcId)
	{
		case "MST_SEARCH": //조회		
	
			if (this.ds_Master10.getRowCount() > 0) {
			
				//저장후 재조회여부-true
				if (this.fvSchKeyYn) {
					var iFvFindRow = this.ds_Master10.findRowExpr("ACCH_NO=='" + this.fvSchKey01 + "' && WOFH_SQ=='" + this.fvSchKey02 + "'");//업무Key Row 찾기

					//마스터 데이터셋 이벤트가 비활성시 - 활성화
					if (!this.ds_Master10.enableevent) {
						this.ds_Master10.set_enableevent(true);
					}
				
					if (iFvFindRow > -1) {
						if (iFvFindRow == 0) {
							this.ds_Master10.set_rowposition(-1);
						} 
						this.ds_Master10.set_rowposition(iFvFindRow);
					} else {
						this.ds_Master10.set_rowposition(0);
					}
				}				
				
				
				//입력영역 활성화
				this.div_MasterInput.set_enable(true);			
					
				//첨부파일정보 권한설정
				var oScrnBtnAuth = new Object();//[공통] 첨부파일 권한정보
				oScrnBtnAuth.BTN_ENABLE = true;//권한 유무	
				this.fvFileDiv.fn_SetCommFileBtnAuth(oScrnBtnAuth);	

			} else {

				//마스터 데이터셋 이벤트가 비활성시 - 활성화
				if (!this.ds_Master10.enableevent) {
					this.ds_Master10.set_enableevent(true);
				}
			
				//입력영역 비활성화
				this.div_MasterInput.set_enable(false);

				//첨부파일정보 권한설정
				var oScrnBtnAuth = new Object();//[공통] 첨부파일 권한정보
				oScrnBtnAuth.BTN_ENABLE = false;//권한 유무	
				this.fvFileDiv.fn_SetCommFileBtnAuth(oScrnBtnAuth);					
			}
			
			//저장후 재조회여부-true
			if (this.fvSchKeyYn) {
				this.fvSchKeyYn = false;//저장후 재조회여부
			}			
	
			break;
		case "COMBO_SEARCH" : //콤보조회
				//다른화면에서 호출한 함수명이 존재하면-해당 함수 호출
				if (!this.gfn_IsNull(this.fvCmScrnCallFunc)) {
					this.lookupFunc(this.fvCmScrnCallFunc).call(this.fvCmScrnCallArgs);//함수 호출	
				}
			break;
			
		case "SAVE":   //저장		

			break;	
		case "DTL_SEARCH": //조회		

			this.ds_Detail10.addColumn("s_chk", "string");
			this.ds_Detail10.addColumn("crudType", "string");
			this.ds_Detail10.addColumn("BGCM_YN", "string");//예산체크여부
			this.ds_Detail10.addColumn("BGCM_AM", "string");//예산편성금액
			this.ds_Detail10.addColumn("DECR_GU_CHK", "string");//차대구분 체크용
			
			//첨부파일 정보 조회
			var oFileInfo = new Object();//[공통] 첨부파일정보
			oFileInfo.PRGM_ID = this.fvComPrgmId;//프로그램ID
			oFileInfo.FILH_GU = "H";//첨부파일위치구분 : H-Head, D-상세(그리드Row), E-기타
			oFileInfo.PK01_NO = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "COMM_CD");//PK번호1-회사코드
			oFileInfo.PK02_NO = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_NO");//PK번호2-발의번호
			oFileInfo.PK03_NO = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "WOFH_SQ");//PK번호3-결재차수						
			
			this.fvFileDiv.fn_AtchFileSearch(oFileInfo);			
			
			if (this.ds_Detail10.getRowCount() > 0) {
				//[공통]그리드NoData Text 초기화 설정
				this.gfn_InitGridNoDataText(this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10);
			} else {
				//[공통]그리드NoData Text설정
				this.gfn_SetGridNoDataText(this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10);			
			}
			break;			
			
	
		case "ACOM_MA_SET":
			//계정별 관리항목 ds_AcomMa
			
			//관리항목 조회 후 ds_Detail에 MA_NM 값을 넣어준다.
			this.fn_SetMaNm(this.ds_Detail10.rowposition);
			
			//관리항목 컴포넌트 동적생성
			this.fn_MakeMaData();
			
			//가용금액 계산중이 아닐경우-계산
			if (!this.fvBCalAvailAmt) {
				this.fn_CalAvailAm();//가용금액 계산
			}		
			break;
		case "ACOM_MA":
			//관리항목 컴포넌트 동적생성
			this.fn_MakeMaData();
			
			//가용금액 계산중이 아닐경우-계산
			if (!this.fvBCalAvailAmt) {
				this.fn_CalAvailAm();//가용금액 계산
			}		
			break;		
			
		case "GET_BUDG": //예산통제정보 조회

			//가용금액 계산중이 아닐경우-계산
			if (!this.fvBCalAvailAmt) {
				this.fn_CalAvailAm();//가용금액 계산
			}		
			break;				
		case "DELETE": //삭제		
			this.fn_ComBtnSearch();//조회
			break;							
	}
};

/***********************************************************************************************
 * 13.02. [팝업] CallBack 함수 처리
          strId : 팝업호출시 지정한 팝업ID
	      rtnValue : 팝업창에서 close시 지정한 반환값
          주의 : Open(popuptype=modeless)창은 팝업콜백을 지원하지 않음
 ***********************************************************************************************/ 
this.fn_PopupCallback = function(strId, rtnValue)
{
	// pop창 콜백 id
	
	//[Detail영역-검색]
};
 
/***********************************************************************************************
 * 13.03. [메세지] CallBack 함수 처리
 ***********************************************************************************************/  
this.fn_MsgCallback = function (strId, strVal)
{

}; 


/***********************************************************************************************
 * 13.04. [인쇄] 결재라인조회 CallBack 함수 처리
 ***********************************************************************************************/  
this.fn_ComWfLineCallback = function (sId)
{
	var sReportFile = "";//레포트파일ID
	//발의구분 - 지출
	if (sId == "2") {
		sReportFile = "M_FA_1000_01";//레포트파일ID
	//발의구분 - 대체
	} else if (sId == "3") {
		sReportFile = "M_FA_1000_02";//레포트파일ID
	//발의구분 - 결산
	} else if (sId == "4") {
		sReportFile = "M_FA_1000_03";//레포트파일ID	
	//발의구분 - 수입
	} else {
		sReportFile = "M_FA_1000_04";//레포트파일ID		
	}
	
	//마스터출력할 Row 복사
	this.ds_Master10Rt.clearData();
	this.ds_Master10Rt.addRow();
	this.ds_Master10Rt.copyRow(0, this.ds_Master10, this.ds_Master10.rowposition);
	
	//결의자 결재라인 정보 조회 - 주관부서 결재라인
	var sSLIP_ID = this.ds_Master10Rt.getColumn(0, "SLIP_ID");//결의자
	
	

	//결의자정보가 있으면
	if (!this.gfn_IsNull(sSLIP_ID)) {
		this.ds_Input.clearData();
		
		this.ds_Input.addRow();
		this.ds_Input.setColumn(0, "SLIP_ID", sSLIP_ID);//결의자
				
		//[공통]서비스정보 초기화
		this.gfn_InitComService(this);

		svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object - 결의자 결재라인정보
		svcAddObj.sSelectSql = "wf:M_WF_1100_D_SL17";
		this.gfn_AddComSearchService(this, svcAddObj);		
		
		//[공통]서비스 호출 변수
		var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
		svcCallObj.sTrid = "DTL_ACCB_SEARCH";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
		svcCallObj.sActionName = this.G_SV_FA;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
		svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
		svcCallObj.sOutDatset = "gds_WfSlipFileUrl=ds_Detail17";//출력 데이터셋
		svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
		svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명
		svcCallObj.isSync = true;//동기식으로 설정할지 여부

		//[공통]서비스 호출
		this.gfn_CallComService(this, svcCallObj);	
		
		if (nApp.gds_WfSlipFileUrl.getRowCount() > 0) {
		
			var objWfFileUrl = nApp.gds_WfSlipFileUrl;
			this.ds_ComWfDrLine.addRow();

			var iNowCol = 1;//현재컬럼번호
			var sEMSI_ID = "";//저장파일명	
			var sFILE_UL = "";//URL		
			var sFULL_FILE_UL = "";//Full URL	
			var sEncode = "";

			for (var iLoop=0; iLoop < objWfFileUrl.getRowCount(); iLoop++) {

				sEMSI_ID = objWfFileUrl.getColumn(iLoop, "EMSI_ID");//저장파일명	
				sFILE_UL = objWfFileUrl.getColumn(iLoop, "FILE_UL");//URL
				sFULL_FILE_UL = "";//Full URL	

				if (!this.gfn_IsNull(sEMSI_ID)) {
					sEncode = encodeURI(sEMSI_ID.replace(/\+/,"%2B"));
					sFULL_FILE_UL = sFILE_UL + sEncode;//Full URL
				}				

				this.ds_ComWfDrLine.setColumn(0, "POSI_NM" + iNowCol, objWfFileUrl.getColumn(iLoop, "POSI_NM"));//직위
				this.ds_ComWfDrLine.setColumn(0, "APPR_NM" + iNowCol, objWfFileUrl.getColumn(iLoop, "EMPM_NM"));//성명
				this.ds_ComWfDrLine.setColumn(0, "SIGN_UL" + iNowCol, sFULL_FILE_UL);//사인
				this.ds_ComWfDrLine.setColumn(0, "APPR_TM" + iNowCol, objWfFileUrl.getColumn(iLoop, "WOFH_DD"));//날짜
				iNowCol++;

			}			
		
		}
		
	}

	var dsObj = new Object();//출력 데이터셋 정보
	dsObj.ds_Master10 = this.ds_Master10Rt;
	dsObj.ds_Detail10 = this.ds_Detail10;
	dsObj.ds_ComWfLine = this.ds_ComWfLine;//발의부서 결재라인
	dsObj.ds_ComWfDrLine = this.ds_ComWfDrLine;//주관부서 결재라인
	dsObj.ds_ComWfAtLine = this.ds_ComWfAtLine;//감사 결재라인	
	dsObj.ds_ComFileList = this.ds_ComFileList;// 첨부파일		

	var paObj = new Object();//출력 파라메타 정보	
	paObj.PRNT_NM = this.gfn_GetSessionValue("USEM_NM");//출력자
	paObj.LOGO_UL = this.gfn_GetReportImageUrl("LOGO_UL_01");//이미지-로고
	   
	var oArg = {ProjectFolder:"FA"        //레포트저장 폴더
			  , ReportFile:sReportFile //레포트파일명
			  , ReportDs:dsObj            //레포트파라메타 - 데이터셋
			  , ReportParam:paObj         //레포트파라메타 - 변수
			   };                         //Popup화면 전달 파라메터
			   
	this.gfn_ReportPop("REPORT", oArg, "fn_PopupCallback");//레포트 팝업 호출	

}; 

 
/***********************************************************************************************
 * 14. [화면 사이즈] 조정 버튼 이벤트
 ***********************************************************************************************/
/***********************************************************************************************
 * 14.01. [조회영역-▲] 화면 사이즈조정 버튼 이벤트
 ***********************************************************************************************/ 


/***********************************************************************************************
 * 14.02. [Master영역-▶] 화면 사이즈조정 버튼 이벤트
 ***********************************************************************************************/ 

/***********************************************************************************************
 * 14.03. [Detail영역-▲] 화면 사이즈조정 버튼 이벤트
 ***********************************************************************************************/ 


/***********************************************************************************************
 * 14.03. [Detail영역-▶] 화면 사이즈조정 버튼 이벤트
 ***********************************************************************************************/ 





/***********************************************************************************************
 * 15. [사용자정의 함수]
 ***********************************************************************************************/

/***********************************************************************************************
 * 15.01. [공통 그리드 버튼] 입력 버튼 설정
 ***********************************************************************************************/ 
this.fn_SetGridInputButton = function()
{


}

/***********************************************************************************************
 * 15.02. [공통 그리드 버튼] 검색 Tab 버튼 설정
 ***********************************************************************************************/ 
this.fn_SetGridChoiceButton = function()
{


}

/***********************************************************************************************
 * 15.03. [공통 첨부파일] 화면 설정
 ***********************************************************************************************/ 
this.fn_SetTabComAttachFile = function()
{
	//그리드 공통 버튼 권한이 있으면
	if (this.fvFormComBtnAuthYn)
	{
		//첨부파일정보 권한설정
		var oScrnAuth = new Object();//[공통] 첨부파일 권한정보
		oScrnAuth.POPUP_YN = "N";//팝업화면 유무
		oScrnAuth.AUTH_YN = "Y";//권한 유무
		oScrnAuth.FILE_CHECK_YN = "Y";//첨부파일종류 체크유무
		oScrnAuth.PRGM_ID = this.fvComPrgmId;//프로그램ID
		oScrnAuth.FILM_GU = "H";//첨부파일구분-Head
		
		this.fvFileDiv.fn_SetCommFileScrnAuth(oScrnAuth);	
	} else {
		//첨부파일정보 권한설정
		var oScrnAuth = new Object();//[공통] 첨부파일 권한정보
		oScrnAuth.POPUP_YN = "N";//팝업화면 유무
		oScrnAuth.AUTH_YN = "N";//권한 유무
		oScrnAuth.FILE_CHECK_YN = "Y";//첨부파일종류 체크유무
		oScrnAuth.PRGM_ID = this.fvComPrgmId;//프로그램ID
		oScrnAuth.FILM_GU = "H";//첨부파일구분-Head		
		
		this.fvFileDiv.fn_SetCommFileScrnAuth(oScrnAuth);	
	}
}

/***********************************************************************************************
 * 15.04. [공통 그리드 버튼] 파일 버튼 설정
 ***********************************************************************************************/ 
this.fn_SetGridFileButton = function()
{
	this.gfn_SetFileBtnUrl(this.div_DetailInput.form.div_ComGrdBtn);//[공통] 파일 버튼 URL 설정
	
	//파일 버튼 설정 : 버튼ID|호출함수명
	var objBtnInfo01List = ["ADD|fn_FileGrd01AddRow"
						 ,"DELETE|fn_FileGrd01DeleteRow"];
	this.div_DetailInput.form.div_ComGrdBtn.form.fn_SetGrdButtonFunc(this, objBtnInfo01List);			
}



/***********************************************************************************************
 * 15.05. [발의구분] DATA 변경시
 ***********************************************************************************************/ 
this.fn_cbo_AcchGu = function(acchGuValue, rowChgEvt)
{
	/*
	1. 발의구분 변경시 
	   입금/지급 구분에 따리 입력항목 text 를 넣어준다.

		   지급          입금
		1) 지급구분   – 입금구분 
		2) 지급처     – 입금처
		3) 지급은행   – 입금은행
		4) 지급계좌   – 입금계좌
		5) 지급요청일 - 입금예정일
	*/
	//this.fvDsRowPosChange = true;
	 //trace("fn_cbo_AcchGu start");
	 
	if(acchGuValue == "1"){
		//수입
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PacsGu.set_text("입금구분");
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PacsCd.set_text("입금처");
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PabaCd.set_text("입금은행"); 
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PaacNo.set_text("입금계좌"); 
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PareDd.set_text("입금예정일");
		//this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_cssclass("essential");
		
	}else if(acchGuValue == "2"){
		//지출
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PacsGu.set_text("지급구분");
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PacsCd.set_text("지급처");
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PabaCd.set_text("지급은행"); 
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PaacNo.set_text("지급계좌"); 
		this.div_MasterInput.form.tab_Master.tpg_01.form.sta_PareDd.set_text("지급요청일"); 
		//this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_cssclass("essential");
		
	}else{
		this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_cssclass("");
		// 값 지움 
		/*
			ds_Master10.rowchage 일때는 false
			발의구분값이 변경시 true
		*/
		if(rowChgEvt){
			this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_value(""); // 지급요청일
			this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PacsGu.set_value(""); // 지급구분
			this.div_MasterInput.form.tab_Master.tpg_01.form.edt_PacsCd.set_value(""); // 지급처
			this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PabaCd.set_value(""); // 지급은행
			//this.div_MasterInput.form.tab_Master.tpg_01.form.edt_PaacNo.set_value(""); // 지급계좌
		}
		// enable = false
		this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_enable(false); // 지급요청일
		this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PacsGu.set_enable(false); // 지급구분
		this.div_MasterInput.form.tab_Master.tpg_01.form.edt_PacsCd.set_enable(false); // 지급처
		this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PabaCd.set_enable(false); // 지급은행
		//this.div_MasterInput.form.tab_Master.tpg_01.form.edt_PaacNo.set_enable(false); // 지급계좌

	}
	var sWOFH_ST = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "WOFH_ST");//결재진행상태

	if (sWOFH_ST == "0020" || sWOFH_ST == "0030" || sWOFH_ST == "0040" || sWOFH_ST == "0050") {

		this.div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd.set_enable(false); // 지급요청일
		this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PacsGu.set_enable(false); // 지급구분
		this.div_MasterInput.form.tab_Master.tpg_01.form.edt_PacsCd.set_enable(false); // 지급처
		this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PabaCd.set_enable(false); // 지급은행
		this.div_MasterInput.form.tab_Master.tpg_01.form.cbo_PaacNo.set_enable(false); // 지급계좌
	}
	//trace("fn_cbo_AcchGu end");
	//this.fvDsRowPosChange = false;
}


/***********************************************************************************************
 * 15.06. [MASTER 금액] DETAIL 차변금액 -> MASTER 금액 데이타 넣기 
 ***********************************************************************************************/ 
this.fn_AcchAmt = function()
{

	//DETAIL 차변금액 합을 Master그리드  금액으로 올린다.	
	var varSum;
	varSum = this.ds_Detail10.getCaseSum("crudType != 'D'", "CRED_AM");
	this.ds_Master10.setColumn(this.ds_Master10.rowposition, "ACCH_AM", varSum);	//Master에 금액 표기
}



/***********************************************************************************************
 * 15.07. [계정코드 변경시]  datastore ds_acomMa 조회
 ***********************************************************************************************/ 
this.fn_dsAcomMa = function(acomCd, fnGu, bCheckBgcm)
{
	//acomCd : 계정코드
	//1. ds_acomMa 조회
	this.ds_Input.clearData();
	this.ds_Detail11.clearData();
	
	this.ds_Input.addRow();
	this.ds_Input.setColumn(0, "ACOM_CD", acomCd);
	
	//예산편성계정이면
	if (bCheckBgcm) {
		var sDEPM_CD = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "BUDP_CD");//부서코드
		var sBUDG_MM = this.gfn_Nvl(this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "BUDG_MM"), "");//편성년월
		
		if (!this.gfn_IsNull(sBUDG_MM)) {
			sBUDG_MM = sBUDG_MM.substr(0,6);
		}
		
		this.ds_Input.setColumn(0, "BUGS_YM", sBUDG_MM);
		this.ds_Input.setColumn(0, "DEPM_CD", sDEPM_CD);
	}
	
	//[공통]서비스정보 초기화
	this.gfn_InitComService(this);
		
	//[공통]서비스정보 추가
	var svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object
	svcAddObj.sSelectSql = "fa:M_FA_1000_D_SL11";
	this.gfn_AddComSearchService(this, svcAddObj);
	
	var sOutDatset = "";//출력 데이터셋
	
	//예산편성계정이면
	if (bCheckBgcm) {	
		//[공통]서비스정보 추가 - 예산통제 정보 조회
		svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object
		svcAddObj.sSelectSql = "fa:M_FA_1000_D_SL12";
		this.gfn_AddComSearchService(this, svcAddObj);			
		
		sOutDatset = "ds_AcomMa=ds_AcomMa ds_Detail11=ds_Detail11";//출력 데이터셋
		
	} else {
		sOutDatset = "ds_AcomMa=ds_AcomMa";//출력 데이터셋
	}
	
	//[공통]서비스 호출 변수
	var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
		
	if (fnGu =="SET"){
		//계정코드 입력
		svcCallObj.sTrid = "ACOM_MA_SET";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
	}else{
		//rowsfocuschange
		svcCallObj.sTrid = "ACOM_MA";//Transaction ID 등 callback에서 넘겨 받을 String을 지정
	}
	svcCallObj.sActionName = this.G_SV_FA;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
	svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
	svcCallObj.sOutDatset = sOutDatset;//출력 데이터셋
	svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
	svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명

	//[공통]서비스 호출
	this.gfn_CallComService(this, svcCallObj);
	
	
	/*
	//1. callback  에서 관리항목변경 및 입력된 데이타 입력
	*/
	
}


/***********************************************************************************************
 * 15.07. [계정코드 변경시]  datastore ds_acomMa 조회 후 MA_CD, 
 ***********************************************************************************************/ 
this.fn_SetMaNm = function(aRow)
{
	/*
	1. aRow = ds_Detail row 
	*/
	
	//this.ds_Detail10.setColumn(aRow, )
	var maNum;  //관리항목번호
	var maNm;   //관리항목명
	var maCd;   //관리항목코드
	var maYn;   // 관리항목 필수체크
	var Num;
	

	for (var iLoop=0; iLoop < 8; iLoop++) {
		Num = "0"+ (iLoop+1);
		this.ds_Detail10.setColumn(aRow, "MA"+Num+"_NM", "");
		this.ds_Detail10.setColumn(aRow, "MA"+Num+"_CD", "");
		this.ds_Detail10.setColumn(aRow, "MA"+Num+"_YN", "");
		this.ds_Detail10.setColumn(aRow, "DE"+Num+"_CD", "");
		this.ds_Detail10.setColumn(aRow, "DE"+Num+"_NM", "");
		
		if(iLoop < this.ds_AcomMa.getRowCount()){
			//관리항목 컬럼 위치
			maNum =  this.ds_AcomMa.getColumn(iLoop, "MA_NUM")
			//관리항목명
			maNm = this.ds_AcomMa.getColumn(iLoop, "MA_NM")
			maCd = this.ds_AcomMa.getColumn(iLoop, "MA_CD")
			this.ds_Detail10.setColumn(aRow, "MA"+maNum+"_NM", maNm);
			this.ds_Detail10.setColumn(aRow, "MA"+maNum+"_CD", maCd);
			
			//관리항목필수체크
			maYn = this.ds_AcomMa.getColumn(iLoop, "MA_YN")
			this.ds_Detail10.setColumn(aRow, "MA"+maNum+"_YN", maYn);
		}
	}
			
}


/***********************************************************************************************
 * 15.08 [div taborder ] 공통함수
 ***********************************************************************************************/ 
this.fn_enterkeyTabOrder = function(obj, e)
{
	if(e.keycode == "13"){
		var curObj = this.getFocus();
		//trace("curObj = " + curObj);
		//  component = TextArea 인경우 엔터키 제외 시킨다. (예 비고)
		if (curObj != "[object TextArea]"){
			var objCom = curObj.parent.parent.form.getNextComponent(this.getFocus(),true);
					
			if(objCom.enable == false){
				objCom = curObj.parent.parent.form.getNextComponent(objCom.getFocus(),true);
			}
			
			if (objCom == "[object Combo]"){
			
			}
			objCom.setFocus();
		}
	}
}

/***********************************************************************************************
 * 15.09 [fn_MakeMaData ] 관리항목 컴포넌트 동적 생성
 ***********************************************************************************************/ 
this.fn_MakeMaData = function() {


	//trace("fn_MakeMaData start");

		//생성된 컴포넌트 삭제
	var arrComList = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.components;//Div 생성된 전체 컴폰넌트

	if (!this.gfn_IsNull(arrComList)) {

		for (var iLoop = arrComList.length-1; iLoop >= 0; iLoop--) {
			if (arrComList[iLoop].id != "sta_DetailRightBottom") {
				var rObj = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.removeChild(arrComList[iLoop].id);
				rObj.destroy();
				rObj = null;
			}
		}

	}

	if (this.ds_AcomMa.getRowCount() > 0) {
	
		// div height 관리항목 개수에 맞게 조정 
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.set_height(this.ds_AcomMa.getRowCount() * 30 + 30);
		// div 예산 top은 관리항목 div 밑으로 
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.set_top("div_Item:0");
		
	
		var iCompTop = 30;//컴포넌트Top
		var staBack;//Back Static
		var staLabel;//Label Static
		var sItemGu = "";//컴포넌트구분
		var VedtCd;//Edit Code입력
		var edtCd;//Edit Code입력
		var edtNm;//Edit CodeName입력
		var btnPopup;//Popup 버튼
		var calCd;//Calendar 입력
		var calCd1;//Calendar 입력
		var calNm;//Calendar 입력
		var calText;//Calendar calText
		var maeCd;//MaskEdit 입력
		var cboCd;//Combo 입력
		var sMaYn = "";//필수입력여부
		var sLengCt = 0;//자릿수
		var sGRCM_CD = "";//그룹코드
		var sDETA_CD = "";//함수명
		var sCD01_NM = "";//코드컬럼명
		var sCD02_NM = "";//코드명컬럼명
		var sFUNC_NM = "";//코드명함수명
		var sMA_NUM  = "";//관리항목순서
		var sACOM_CD = "";//계정코드
		var sDecrGu  = "";//차대구분
		var sAcchDecrGu  = "";//계정차대구분
		var sMaCd    = ""; //관리항목코드
		var iFvFindRow;
		var sBilmGu  = "";
		
		//관리항목 컴포넌트정보 데이터셋 초기화
		this.ds_CmMaInfo.clearData();
		this.ds_CmMaInfo.addRow();
		
		//바인딩
		var objBindItem = new BindItem();
		
		for (var iLoop=1; iLoop < 9; iLoop++) {
		
		
			
			//관리항목번호를 가져온다.
			sMA_NUM = this.fn_GetMakeMaData(iLoop, "MA_NUM");//관리항목순서
			//trace("sMA_NUM = " +sMA_NUM);
			if (sMA_NUM ==""){
				break;
			}
			//Back Static - 생성
			staBack = new Static("sta_Back" + iLoop, 0, iCompTop , null, 30, 0, null);
			staBack.set_cssclass("sta_WF_DBg");		
			this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(staBack.name, staBack);		
			staBack.show();
			
			//Label Static - 생성
			staLabel = new Static("sta_Ma" + sMA_NUM, 0, iCompTop, 93, 30, null, null);
			staLabel.set_cssclass("sta_WF_DLabel");		
			staLabel.set_text(this.fn_GetMakeMaData(iLoop, "MA_NM"));//라벨명
			this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(staLabel.name, staLabel);		
			staLabel.show();
			
			//입력컴포넌트 생성
			sItemGu = this.fn_GetMakeMaData(iLoop, "ITEM_GU");//컴포넌트구분
			sMaYn = this.fn_GetMakeMaData(iLoop, "MA_YN");//필수입력여부
			sLengCt = this.fn_GetMakeMaData(iLoop, "LENG_CT");//자릿수
			sGRCM_CD = this.fn_GetMakeMaData(iLoop, "CODM_CD");//그룹코드
			sDETA_CD = this.fn_GetMakeMaData(iLoop, "DETA_CD");//함수명
			sCD01_NM = this.fn_GetMakeMaData(iLoop, "CD01_NM");//코드컬럼명
			sCD02_NM = this.fn_GetMakeMaData(iLoop, "CD02_NM");//코드명컬럼명
			sFUNC_NM = this.fn_GetMakeMaData(iLoop, "FUNC_NM");//코드명함수명
			sACOM_CD = this.fn_GetMakeMaData(iLoop, "ACOM_CD");//계정코드
			sACOM_GU = this.fn_GetMakeMaData(iLoop, "ACOM_GU");//계정코드
			sDecrGu  = this.fn_GetMakeMaData(iLoop, "DECR_GU");//계정차대구분
			sMaCd    = this.fn_GetMakeMaData(iLoop, "MA_CD");//관리항목코드
			sAcchDecrGu = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "DECR_GU");

			/*
				1. 받을어음, 지급어음의 계정차대구분과 전표등록 차대구분이 같을경우 TEXT로 변경한다.
			*/
			if((sACOM_GU =="0020" || sACOM_GU =="0030") && sItemGu == "0020" && sMaCd == "6"){
				//받을어음, 지급어음의 계정차대구분과 전표등록 차대구분이 같을경우 TEXT로 변경한다.
				if(sDecrGu == sAcchDecrGu){
					sItemGu = "0010";
					// 코드값은 삭제한다.
					this.ds_CmMaInfo.setColumn(0, "DE"+sMA_NUM+"_CD", "");
				}
			}
			

				
			
			//컴포넌트 바인딩 정보 삭제
			if (this.fn_FindBindItem("this.itemMa" + sMA_NUM + "Cd")) {
				var rtnobj = this.removeChild("this.itemMa" + sMA_NUM + "Cd");
				rtnobj.destroy();
			}
			if (this.fn_FindBindItem("this.itemMa" + sMA_NUM + "Nm")) {
				var rtnobj = this.removeChild("this.itemMa" + sMA_NUM + "Nm");
				rtnobj.destroy();
			}					
			if (this.fn_FindBindItem("this.itemMaV" + sMA_NUM + "Cd")) {
				var rtnobj = this.removeChild("this.itemMaV" + sMA_NUM + "Cd");
				rtnobj.destroy();
			}	
						
			//TEXT
			if (sItemGu == "0010") {
				//Edit Code - 생성
				edtCd = new Edit("edt_De" + sMA_NUM + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					edtCd.set_cssclass("essential");	
				}							
				
				//Max Length 설정
				edtCd.set_maxlength(sLengCt);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(edtCd.name, edtCd);		
				edtCd.show();		
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();
		
			//POPUP
			} else if (sItemGu == "0020") {
				
				//Edit Code - 생성
				edtCd = new Edit("edt_De" + sMA_NUM + "Cd", 96, iCompTop+3, 103, 24, null, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					edtCd.set_cssclass("essential");	
				}
				edtCd.set_visible(false);
				
				//Max Length 설정
				edtCd.set_maxlength(sLengCt);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(edtCd.name, edtCd);		
				edtCd.FUNC_NM = sFUNC_NM;
				edtCd.ColCd = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Cd";//관리항목-코드컴포넌트
				edtCd.VColCd = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_VDe" + sMA_NUM + "Cd";//관리항목-코드컴포넌트
				edtCd.ColNm = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Nm";//관리항목-코드명컴포넌트				
				edtCd.GRCM_CD = sGRCM_CD;  // 공통그룹코드
				edtCd.sCD01_NM = sCD01_NM;//관리항목-코드컬럼명
				edtCd.sCD02_NM = sCD02_NM;//관리항목-코드명컬럼명
				
				
				edtCd.ACOM_GU = sACOM_GU;  // 계정자료구분
				edtCd.MaSeq = sMA_NUM;//관리항목-순번
				edtCd.DETA_CD = sDETA_CD;//관리항목-함수명
				edtCd.DecrGu = sDecrGu;   //차대구분
				
				edtCd.addEventHandler("onchanged", this.fn_ComMaEditChangedEvent, this);//Edit 변경이벤트
				edtCd.show();		
				
				
				

				//Edit Code - 생성
				VedtCd = new Edit("edt_VDe" + sMA_NUM + "Cd", 96, iCompTop+3, 103, 24, null, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					VedtCd.set_cssclass("essential");	
				}
				
				//Max Length 설정
				VedtCd.set_maxlength(sLengCt);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(VedtCd.name, VedtCd);		
				VedtCd.FUNC_NM = sFUNC_NM;
				VedtCd.ColCd = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Cd";//관리항목-코드컴포넌트
				VedtCd.VColCd = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_VDe" + sMA_NUM + "Cd";//관리항목-코드컴포넌트
				VedtCd.ColNm = "this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Nm";//관리항목-코드명컴포넌트				
				VedtCd.GRCM_CD = sGRCM_CD;  // 공통그룹코드
				VedtCd.sCD01_NM = sCD01_NM;//관리항목-코드컬럼명
				VedtCd.sCD02_NM = sCD02_NM;//관리항목-코드명컬럼명
				
				
				VedtCd.ACOM_GU = sACOM_GU;  // 계정자료구분
				VedtCd.MaSeq = sMA_NUM;//관리항목-순번
				VedtCd.DETA_CD = sDETA_CD;//관리항목-함수명
				VedtCd.DecrGu = sDecrGu;   //차대구분
				VedtCd.MaCd = sMaCd; //관리항목코드
				VedtCd.ReprYn = sReprYn;//대표관리항목
				VedtCd.AcchDecrGu = sAcchDecrGu;  //전표등록의 차대구분
				
				
				VedtCd.addEventHandler("onchanged", this.fn_ComMaEditChangedEvent, this);//Edit 변경이벤트
				//trace("POPUP 4235=====1");
				VedtCd.show();		
				
				
				
				//Edit CodeName - 생성
				edtNm = new Edit("edt_De" + sMA_NUM + "Nm", 202, iCompTop+3, null, 24, 30, null);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(edtNm.name, edtNm);		
				edtNm.set_enable(false);
				edtNm.show();				
				
				btnPopup;//Popup 버튼
				btnPopup = new Button("btn_Ma" + sMA_NUM, null, iCompTop+3, 24, 24, 3, null);
				btnPopup.set_cssclass("btn_WF_SmallSearch");
				btnPopup.set_cursor("pointer");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(btnPopup.name, btnPopup);			
				btnPopup.addEventHandler("onclick", this.fn_ComMaPopupBtnEvent, this);
				btnPopup.MaSeq = sMA_NUM;//관리항목-순번
				btnPopup.DETA_CD = sDETA_CD;//관리항목-함수명
				btnPopup.ColCd = sCD01_NM;//관리항목-코드컬럼명
				btnPopup.ColNm = sCD02_NM;//관리항목-코드명컬럼명
				btnPopup.VColCd = sCD01_NM;//관리항목-코드컬럼명
				btnPopup.GrcmCd = sGRCM_CD;  //그룹코드
				btnPopup.AcomCd = sACOM_CD;  //계정코드
				btnPopup.AcomGu = sACOM_GU;  //계정구분
				btnPopup.DecrGu = sDecrGu;   //차대구분
				btnPopup.show();	
				
				
				//trace("sMA_NUM = " + sMA_NUM);
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_CD");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMaV" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_VDe" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "VDE" + sMA_NUM + "_CD");
				this.addChild("this.itemMaV" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();
				
				
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Nm", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "edt_De" + sMA_NUM + "Nm", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Nm", objBindItem); 
				objBindItem.bind();

			//Number(형식없음)
			} else if (sItemGu == "0030") {
				//Edit Code - 생성
				maeCd = new MaskEdit("mae_De" + sMA_NUM + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					maeCd.set_cssclass("essential");	
				}
				
				//Mask 설정
				maeCd.set_format("##0");
				maeCd.set_type("number");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(maeCd.name, maeCd);		
				maeCd.show();	
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "mae_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();

			//Number(천단위)
			} else if (sItemGu == "0040") {
				//Edit Code - 생성
				maeCd = new MaskEdit("mae_De" + sMA_NUM + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					maeCd.set_cssclass("essential");	
				}
				
				//Mask 설정
				maeCd.set_format("###,###,###,##0");
				maeCd.set_type("number");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(maeCd.name, maeCd);		
				maeCd.show();		
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "mae_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();				

			//Number(소숫점2자리)
			} else if (sItemGu == "0050") {
				//Edit Code - 생성
				maeCd = new MaskEdit("mae_De0" + iLoop + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					maeCd.set_cssclass("essential");	
				}
				
				//Mask 설정
				maeCd.set_format("###,###,###,###.##");
				maeCd.set_type("number");
				maeCd.set_limitbymask("both");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(maeCd.name, maeCd);		
				maeCd.show();		
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_DetailInput.form.tab_Master.tpg_02.div_detailRight.form.div_Item.form." + "mae_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE0" + iLoop + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();

			//Number(소숫점4자리)
			} else if (sItemGu == "0055") {
				//Edit Code - 생성
				maeCd = new MaskEdit("mae_De" + sMA_NUM + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					maeCd.set_cssclass("essential");	
				}
				
				//Mask 설정
				maeCd.set_format("###,###,###,###.####");
				maeCd.set_type("number");
				maeCd.set_limitbymask("both");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(maeCd.name, maeCd);		
				maeCd.show();			
				
				//바인딩설정
				objBindItem = new BindItem();
				                                                //div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.sta_DetailRightBottom
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_DetailInput.form.tab_Master.tpg_02.div_detailRight.form.div_Item.form." + "mae_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();

			//DATE(YYYY/MM/DD)	
			} else if (sItemGu == "0060") {
				//Edit Code - 생성
				calCd = new Calendar("cal_De" + sMA_NUM + "Cd", 96, iCompTop+3, 113, 24, null, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					calCd.set_cssclass("essential");	
				}
				calCd.set_dateformat("yyyy-MM-dd");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(calCd.name, calCd);		
				calCd.show();			
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "cal_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();				

			//DATE(YYYY/MM/DD) ~ DATE(YYYY/MM/DD)
			} else if (sItemGu == "0065") {
				//Edit Code - 생성
				calCd = new Calendar("cal_De" + sMA_NUM + "Cd", 96, iCompTop+3, 113, 24, null, null);
				calText = new Static("sta_Ca" + sMA_NUM, 213, iCompTop , 22, 30, null, null);
				calNm = new Calendar("cal_De" + sMA_NUM + "Nm", 238, iCompTop+3, 113, 24, null, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					calCd.set_cssclass("essential");	
					calNm.set_cssclass("essential");	
				}
				calCd.set_dateformat("yyyy-MM-dd");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(calCd.name, calCd);		
				calCd.show();			


				calText.set_cssclass("sta_WF_DLabel");		
				calText.set_text("~");//~
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(calText.name, calText);
				calText.show();
				
				
				calNm.set_dateformat("yyyy-MM-dd");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(calNm.name, calNm);		
				calNm.show();			


				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "cal_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_CD");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();	
				
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Nm", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "cal_De" + sMA_NUM + "Nm", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Nm", objBindItem); 
				objBindItem.bind();	
				

			 //DATE(YYYY/MM)   
			 } else if (sItemGu == "0070") {
				//Edit Code - 생성
				calCd = new Calendar("cal_De" + sMA_NUM + "Cd", 96, iCompTop+3, 113, 24, null, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					calCd.set_cssclass("essential");	
				}
				
				calCd.set_dateformat("yyyy-MM");
				calCd.set_editformat("yyyy-MM");
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(calCd.name, calCd);		
				calCd.show();			
				
				//바인딩설정
				objBindItem = new BindItem();
				objBindItem.init("this.itemMa" + sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "cal_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_NM");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();				


			//콤보입력
			} else if (sItemGu == "0090") {
				//콤보관련 데이터셋 생성
				this.fn_MakeMaDataSet(sGRCM_CD);
				
				//Edit Code - 생성
				cboCd = new Combo("cbo_De" + sMA_NUM + "Cd", 96, iCompTop+3, null, 24, 3, null);
	
				//필수입력일때 - CSS변경
				if (sMaYn == "1") {
					cboCd.set_cssclass("essential");	
				}
				
				//콤보 설정
				cboCd.set_codecolumn("CODM_CD");
				cboCd.set_datacolumn("CODM_NM");
				cboCd.set_innerdataset("ds_ComMa" + sGRCM_CD);
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.addChild(cboCd.name, cboCd);		
				cboCd.show();
				
				//바인딩설정
				objBindItem = new BindItem();
				                                                 
				objBindItem.init("this.itemMa" +sMA_NUM + "Cd", "div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form." + "cbo_De" + sMA_NUM + "Cd", "value", "ds_CmMaInfo", "DE" + sMA_NUM + "_CD");
				this.addChild("this.itemMa" + sMA_NUM + "Cd", objBindItem); 
				objBindItem.bind();						

			}
			
			iCompTop = iCompTop + 29;		
		}
		
		
		
					




		//ds_Detail10 데이터를 관리항목 데이터셋에 복사
		var iPos = this.ds_Detail10.rowposition;
		
		var fromDd;
		var toDd;
		for (var iLoop=1; iLoop < 9; iLoop++) {
			
			if(this.ds_Detail10.getColumn(iPos, "MA0" + iLoop + "_CD") == "f"){
				//기간인경우 DEXX_NM을 '-' 잘라서 넣는다.
				
				if(!this.gfn_IsNull(this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM"))){
					fromDd = this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM").substring(0,8);
					this.ds_CmMaInfo.setColumn(0, "DE0" + iLoop + "_CD", fromDd);
					this.ds_CmMaInfo.setColumn(0, "VDE0" + iLoop + "_CD", fromDd);
				}
				
				if(!this.gfn_IsNull(this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM"))){
					toDd   = this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM").substring(9,17);
					this.ds_CmMaInfo.setColumn(0, "DE0" + iLoop + "_NM", toDd);
				}
	
			} else if(this.ds_Detail10.getColumn(iPos, "MA0" + iLoop + "_CD") == "q"){
				//관리년월은 6자리만 입력한다.
				
				if(!this.gfn_IsNull(this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM"))){
					fromDd = this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM");
					this.ds_CmMaInfo.setColumn(0, "DE0" + iLoop + "_NM", fromDd);
					//this.ds_CmMaInfo.setColumn(0, "VDE0" + iLoop + "_CD", fromDd);
				}
				
	
			}else{
			
				
			
				this.ds_CmMaInfo.setColumn(0, "DE0" + iLoop + "_CD", this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_CD"));
				this.ds_CmMaInfo.setColumn(0, "VDE0" + iLoop + "_CD", this.ds_Detail10.getColumn(iPos, "VDE0" + iLoop + "_CD"));
				this.ds_CmMaInfo.setColumn(0, "DE0" + iLoop + "_NM", this.ds_Detail10.getColumn(iPos, "DE0" + iLoop + "_NM"));
			}
		
		}
	}else{
	
	
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.set_height(60);
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.set_top("div_Item:0");
	}
	
	
		    //trace("ds_CmMaInfo ROWS" + this.ds_CmMaInfo.rowcount);
			//trace("ds_CmMaInfo DE01_CD = " + this.ds_CmMaInfo.getColumn(0, "DE01_CD"));
			
			
// 			//trace("ds_CmMaInfo DE01_NM = " + this.ds_CmMaInfo.getColumn(0, "DE01_NM"));
// 			//trace("ds_CmMaInfo DE02_CD = " + this.ds_CmMaInfo.getColumn(0, "DE02_CD"));
// 			//trace("ds_CmMaInfo DE02_NM = " + this.ds_CmMaInfo.getColumn(0, "DE02_NM"));
// 			//trace("ds_CmMaInfo DE03_CD = " + this.ds_CmMaInfo.getColumn(0, "DE03_CD"));
// 			//trace("ds_CmMaInfo DE03_NM = " + this.ds_CmMaInfo.getColumn(0, "DE03_NM"));
// 			//trace("ds_CmMaInfo DE04_CD = " + this.ds_CmMaInfo.getColumn(0, "DE04_CD"));
// 			//trace("ds_CmMaInfo DE04_NM = " + this.ds_CmMaInfo.getColumn(0, "DE04_NM"));
// 			//trace("ds_CmMaInfo DE05_CD = " + this.ds_CmMaInfo.getColumn(0, "DE05_CD"));
// 			//trace("ds_CmMaInfo DE05_NM = " + this.ds_CmMaInfo.getColumn(0, "DE05_NM"));
// 			//trace("ds_CmMaInfo DE06_CD = " + this.ds_CmMaInfo.getColumn(0, "DE06_CD"));
// 			//trace("ds_CmMaInfo DE06_NM = " + this.ds_CmMaInfo.getColumn(0, "DE06_NM"));
// 			//trace("ds_CmMaInfo DE07_CD = " + this.ds_CmMaInfo.getColumn(0, "DE07_CD"));
// 			//trace("ds_CmMaInfo DE07_NM = " + this.ds_CmMaInfo.getColumn(0, "DE07_NM"));
// 			//trace("ds_CmMaInfo DE08_CD = " + this.ds_CmMaInfo.getColumn(0, "DE08_CD"));
// 			//trace("ds_CmMaInfo DE08_NM = " + this.ds_CmMaInfo.getColumn(0, "DE08_NM"));
			
			
	
	//trace("fn_MakeMaData end");
}
 
/***********************************************************************************************
 * 15.10 [fn_GetMakeMaData ] 관리항목 컴포넌트 정보찾기
 ***********************************************************************************************/ 
this.fn_GetMakeMaData = function(iRow, sCol) {
	var rtnValue = "";
	if (this.ds_AcomMa.getRowCount() > 0) {
		if (iRow <= this.ds_AcomMa.getRowCount()) {
			rtnValue = this.ds_AcomMa.getColumn(iRow-1, sCol);
		}
	}
	
	return rtnValue;
}

/***********************************************************************************************
 * 15.11 [fn_MakeMaDataSet ] 관리항목 컴포넌트 데이터셋 생성 및 데이터조회
 ***********************************************************************************************/ 
this.fn_MakeMaDataSet = function(sGRCM_CD) {
	
	var dsCodm = "ds_ComMa" + sGRCM_CD;
	
	//관리항목 관련 데이터셋 정보가 없으면 - 생성
	if (this.gfn_IsNull(this.objects[dsCodm])) {
		var dsObj = new Dataset;
		dsObj.set_name(dsCodm);//데이터셋명 설정
		this.addChild(dsObj.name, dsObj);//해당 화면에 데이터셋 등록
		
		//컬럼정보 생성
		dsObj.addColumn("CODM_CD", "string");
		dsObj.addColumn("CODM_NM", "string");
	} else {
		eval("this." + dsCodm).clearData();
	}
	
	//[공통] 공통코드 설정 : 공통코드|데이터셋명|초기항목추가여부(Y/N)|추가항목
	var objCondList = [sGRCM_CD + "|" + dsCodm];
	//공통코드 설정함수 호출				   
	this.gfn_GetCommCode(this, objCondList, "");	
	
}

/***********************************************************************************************
 * 15.12 [fn_ComMaPopupBtnEvent ] 관리항목 팝업관련 이벤트
 ***********************************************************************************************/ 
this.fn_ComMaPopupBtnEvent = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{ 


	//trace("===============fn_ComMaPopupBtnEvent============");
	//관리항목 순번정보가 있으면
	if (!this.gfn_IsNull(obj.MaSeq)) {		
		
		var sMaSeq = obj.MaSeq;//관리항목-순번
		var sDETA_CD = obj.DETA_CD;//관리항목-팝업함수
		var sColCd = obj.ColCd;//관리항목-코드컬럼
		var sVColCd = obj.VColCd;//VIEW 관리항목-코드컬럼
		var sColNm = obj.ColNm;//관리항목-코드명컬럼
		var sCodmCd = obj.GrcmCd;  //공통코드
		var sPopuCd = obj.PopuCd; //팝업사용구분(FA033) 양쪽사용(0010), 차변만(0020), 대변만(0030)
		var sAcomCd = obj.AcomCd; // 계정코드
		var sAcomGu = obj.AcomGu; // 계정구분
		var sDecrGu = obj.DecrGu; //  차대구분
		
		var sColCdValue ="" ; // 관리항목 코드 데이타
		var sColNmValue = "" ; // 관리항목 명 데이타
		
		var sAcchDecrGu = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "DECR_GU");  // 차대구분
		
		
		
		//관리항목 순번
		if (sMaSeq == "01") {
			this.fvCmMaPopupId01 = "MA01_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd01 = sColCd;
			this.fvCmMaRtnColNm01 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe01Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Nm.value;
		} else if (sMaSeq == "02") {
			//trace("sDETA_CD = " + sDETA_CD+ "-======= sMaSeq=" + sMaSeq);
			this.fvCmMaPopupId02 = "MA02_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd02 = sColCd;
			this.fvCmMaRtnColNm02 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe02Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De02Nm.value;
		} else if (sMaSeq == "03") {
			this.fvCmMaPopupId03 = "MA03_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd03 = sColCd;
			this.fvCmMaRtnColNm03 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe03Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De03Nm.value;
		} else if (sMaSeq == "04") {
			this.fvCmMaPopupId04 = "MA04_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd04 = sColCd;
			this.fvCmMaRtnColNm04 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe04Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De04Nm.value;
		} else if (sMaSeq == "05") {
			this.fvCmMaPopupId05 = "MA05_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd05 = sColCd;
			this.fvCmMaRtnColNm05 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe05Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De05Nm.value;
		} else if (sMaSeq == "06") {
			this.fvCmMaPopupId06 = "MA06_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd06 = sColCd;
			this.fvCmMaRtnColNm06 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe06Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De06Nm.value;
		} else if (sMaSeq == "07") {
			this.fvCmMaPopupId07 = "MA07_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd07 = sColCd;
			this.fvCmMaRtnColNm07 = sColNm;
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe07Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De07Nm.value;
		} else if (sMaSeq == "08") {
			this.fvCmMaPopupId08 = "MA08_" + sDETA_CD;//팝업ID
			this.fvCmMaRtnColCd08 = sColCd;
			this.fvCmMaRtnColNm08 = sColNm;		
			sColCdValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe08Cd.value;
			sColNmValue = this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De08Nm.value;	
		}
		

		//var sPopuCd = obj.PopuCd; //팝업사용구분(FA033) 양쪽사용(0010), 차변만(0020), 대변만(0030)
		var sPopupId = "MA" + sMaSeq + "_" + sDETA_CD;//팝업ID
			
		//팝업함수명-계약번호
		if (sDETA_CD == "gfn_ContPop") {
			var oArg = { CnthNo:sColCdValue, PrgmId:this.fvComPrgmId};//Argument처리
			this.gfn_ContPop(sPopupId, oArg, "fn_ComMaPopupCallback");	
		//팝업함수명-거래처
		} else if (sDETA_CD == "gfn_CusmPop") {
			var oArg = { CusmNm:sColNmValue};//Argument처리
			this.gfn_CusmPop(sPopupId, oArg, "fn_ComMaPopupCallback");	
		//팝업함수명-사원
		} else if (sDETA_CD == "gfn_UserPop") {
			var oArg = { EmpmNm:sColNmValue};//Argument처리
			this.gfn_UserPop(sPopupId, oArg, "fn_ComMaPopupCallback");	
		//팝업함수명-부서
		} else if (sDETA_CD == "gfn_DeptPop") {
			//var oArg = { DepmNm:this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Nm.value};//Argument처리
			var oArg = { DepmNm:sColNmValue};//Argument처리
			this.gfn_DeptPop(sPopupId, oArg, "fn_ComMaPopupCallback");		
		//팝업함수명-은행
		} else if (sDETA_CD == "gfn_BanmPop") {
			var oArg = { BanmNm:sColCdValue};//Argument처리
			this.gfn_BanmPop(sPopupId, oArg, "fn_ComMaPopupCallback");			
		//팝업함수명-품목코드
		} else if (sDETA_CD == "gfn_ItemPop") {
			var oArg = { ItemCd:sColCdValue};//Argument처리
			this.gfn_ItemPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		//팝업함수명-공통코드
		} else if (sDETA_CD == "gfn_CodmPop") {
			var oArg = { GrcmCd:sCodmCd, CodmCd:sColCdValue};//Argument처리
			this.gfn_CodmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		//팝업함수명-사업장
		} else if (sDETA_CD == "gfn_SaumPop") {
			var oArg = { SaumNm:sColCdValue};//Argument처리
			this.gfn_SaumPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_DebmPop") {				
		//팝업함수명-차입금
			var oArg = { DebmNm:sColCdValue};//Argument처리
			this.gfn_DebmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_BilmPop") {				
		//팝업함수명-어음
			var oArg = { BilmNo:sColCdValue , BilmGu:sAcomGu};//Argument처리
			this.gfn_BilmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_BilpPop") {				
		//팝업함수명-지급어음
			var oArg = { BilmNo:sColCdValue};//Argument처리
			this.gfn_BilpPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_BilrPop") {				
		//팝업함수명-받을어음
			//var oArg = { ItemCd:this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Cd.value};//Argument처리
			//trace("sCodmCd = "+sCodmCd)
			var oArg = { BilmNo:sColCdValue};//Argument처리
			this.gfn_BilrPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_AcnmPop") {				
		//팝업함수명-계좌번호
			var oArg = { AcnmNo:sColCdValue};//Argument처리
			this.gfn_AcnmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_LoamPop") {				
		//팝업함수명-대여금
			var oArg = { LoamNm:sColCdValue};//Argument처리
			this.gfn_LoamPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_CremPop") {				
		//팝업함수명-법인카드번호
			var oArg = { CremNo:sColCdValue};//Argument처리
			this.gfn_CremPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_SecmPop") {				
		//팝업함수명-유가증권번호
			var oArg = { SecmNm:sColCdValue};//Argument처리
			this.gfn_SecmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_FiamPop") {				
		//팝업함수명-고정자산번호
			var oArg = { FiamNm:sColCdValue};//Argument처리
			this.gfn_FiamPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		} else if (sDETA_CD == "gfn_SerhPop") {				
		//팝업함수명-CS접수번호
			var oArg = { SerhNo:sColCdValue};//Argument처리
			this.gfn_SerhPop(sPopupId, oArg, "fn_ComMaPopupCallback");						
		} else if (sDETA_CD == "gfn_RpjhPop") {				
		//팝업함수명-연구개발코드
			var oArg = { SerhNo:sColCdValue};//Argument처리
			this.gfn_SerhPop(sPopupId, oArg, "fn_ComMaPopupCallback");				
		} else if (sDETA_CD == "gfn_VatmPop") {				
		//팝업함수명-부가세코드

			var sVatmGu="";
			if(sAcomGu == "0010" && sDecrGu=="D"){
				//부가가치대급금
				sVatmGu = "0";  // 매입
			}else{
				sVatmGu = "1"; // 매출
			}
			
			var oArg = {VatmGu:sVatmGu, VatmNm:sColCdValue};//Argument처리
			this.gfn_VatmPop(sPopupId, oArg, "fn_ComMaPopupCallback");					
		}
		
	}
}

/***********************************************************************************************
 * 15.13 [fn_ComMaPopupCallback ] 관리항목 팝업관련 콜백함수
 ***********************************************************************************************/ 
this.fn_ComMaPopupCallback = function(strId, rtnValue)
{
	// pop창 콜백 id
	if (strId == this.fvCmMaPopupId01) {
	
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd01))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd01));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe01Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd01));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd01));
				}
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De01Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm01));
			}
		}	
	} else if (strId == this.fvCmMaPopupId02) {
		//trace("strId = " + strId + "  arrRtnVal. = " + this.fvCmMaRtnColCd02);
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			//trace("strId = " + strId + " arrRtnVal. = " + this.fvCmMaRtnColCd02);
			//trace("strId = " + strId + " arrRtnVal. = " + this.fvCmMaRtnColNm02);
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd02))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De02Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd02));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe02Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd02));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De02Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De02Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd02));
				}
				
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De02Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm02));
			}
		}	
	} else if (strId == this.fvCmMaPopupId03) {
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd03))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De03Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd03));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe03Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd03));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De03Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De03Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd03));
				}
				
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De03Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm03));
			}
		}
	} else if (strId == this.fvCmMaPopupId04) {
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd04))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De04Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd04));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe04Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd04));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De04Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De04Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd04));
				}
				
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De04Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm04));
			}
		}		
	} else if (strId == this.fvCmMaPopupId05) {
		
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd05))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De05Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd05));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe05Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd05));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De05Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De05Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd05));
				}
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De05Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm05));
			}
		}
	} else if (strId == this.fvCmMaPopupId06) {
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd06))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De06Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd06));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe06Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd06));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De06Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De06Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd06));
				}
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De06Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm06));
			}
		}
	} else if (strId == this.fvCmMaPopupId07) {
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd07))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De07Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd07));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe07Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd07));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De07Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De07Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd07));
				}
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De07Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm07));
			}
		}
	} else if (strId == this.fvCmMaPopupId08) {
		if (!this.gfn_IsNull(rtnValue)) {
			var arrRtnVal = eval(rtnValue);
			
			if (!this.gfn_IsNull(eval("arrRtnVal." + this.fvCmMaRtnColCd08))) {
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De08Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd08));
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_VDe08Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd08));
				if (strId.substring(5, strId.length)=="gfn_UserPop"){
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De08Cd.set_value(eval("arrRtnVal." + "SYST_ID"));
				}else{
					this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De08Cd.set_value(eval("arrRtnVal." + this.fvCmMaRtnColCd08));
				}
				
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Item.form.edt_De08Nm.set_value(eval("arrRtnVal." + this.fvCmMaRtnColNm08));
			}
		}		
	}
	
	//다른정보 입력
	
	var iFvFindRow;
	var iFvFindRowMaNum;
	if(strId.substring(5, strId.length)=="gfn_BilmPop" && !this.gfn_IsNull(rtnValue)){
		//받을어음, 지급어음
		
		//1.계약번호(0)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='0'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM");
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_CD", arrRtnVal.CNTH_NO);
			this.ds_CmMaInfo.setColumn(0, "VDE"+iFvFindRowMaNum+"_CD", arrRtnVal.CNTH_NO);
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.CNTH_NM);
		}
		//2.거래처(2)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='2'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM"); 
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_CD", arrRtnVal.CUSM_CD);
			this.ds_CmMaInfo.setColumn(0, "VDE"+iFvFindRowMaNum+"_CD", arrRtnVal.CUSM_CD);
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.CUSM_NM);
		}
		//3. 발행일자(T)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='T'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM"); 
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.FROM_DD);
		}
		//4. 만기일자(U)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='U'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM"); 
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.EXPI_DD);
		}
		//5. 은행(지점)(8)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='8'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM"); 
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_CD", arrRtnVal.ISBK_CD);
			this.ds_CmMaInfo.setColumn(0, "VDE"+iFvFindRowMaNum+"_CD", arrRtnVal.ISBK_CD);
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.BANM_NM);
		}
		//6. 사번(3)
		iFvFindRow = this.ds_AcomMa.findRowExpr("MA_CD=='3'");
		if(iFvFindRow > -1){
			iFvFindRowMaNum = this.ds_AcomMa.getColumn(iFvFindRow, "MA_NUM"); 
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_CD", arrRtnVal.SYST_ID);
			this.ds_CmMaInfo.setColumn(0, "VDE"+iFvFindRowMaNum+"_CD", arrRtnVal.EMPM_CD);
			this.ds_CmMaInfo.setColumn(0, "DE"+iFvFindRowMaNum+"_NM", arrRtnVal.EMPM_NM);
		}
		//6. 지출증빙서류
	}else if(strId.substring(5, strId.length)=="gfn_SerhPop"){
		//CS접수번호
		
		
	}
	
	
	
}

/***********************************************************************************************
 * 15.14 [fn_FindBindItem ] 바인딩 Item 찾기 함수
 ***********************************************************************************************/ 
this.fn_FindBindItem  = function(id)
{
	var rtn;
	for(var iLoop=0; iLoop<this.binds.length ; iLoop++)
	{
		if( this.binds[iLoop].name == id ){
			rtn = true;
			return rtn;
		} else {
			rtn = false;
		}	
	}	
	return rtn;
}

/***********************************************************************************************
 * 15.15 [ds_CmMaInfo_oncolumnchanged ] 관리항목 데이터셋 데이터 변경 이벤트
 ***********************************************************************************************/ 
this.ds_CmMaInfo_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	var iRow = this.ds_Detail10.rowposition;
	var code;
	var Vcode;
	var name;
	
	if(this.ds_Detail10.getColumn(iRow, "MA" + e.columnid.substr(2, 2) + "_CD") =="f"){
		//기간인경우 상세명에 만 입력한다.
		code = this.ds_CmMaInfo.getColumn(0, "DE"+e.columnid.substr(2, 2)+"_CD");
		Vcode = this.ds_CmMaInfo.getColumn(0, "VDE"+e.columnid.substr(2, 2)+"_CD");
		name = this.ds_CmMaInfo.getColumn(0, "DE"+e.columnid.substr(2, 2)+"_NM");
		
		if(this.gfn_IsNull(code)){
			code = "";
		}else{
		
			if(this.gfn_IsNull(name)){
				name = "";
			}else{
				name = "-" + name;
				this.ds_Detail10.setColumn(iRow, "DE"+e.columnid.substr(2, 2)+"_NM", code + name);
			}
		}
	} else if(this.ds_Detail10.getColumn(iRow, "MA" + e.columnid.substr(2, 2) + "_CD") =="q") {
	
		
		macd = this.ds_Detail10.getColumn(iRow, "MA"+e.columnid.substr(2, 2)+"_CD");  //관리항목코드
		

		name = this.ds_CmMaInfo.getColumn(0, "DE"+e.columnid.substr(2, 2)+"_NM");
		
		if(!this.gfn_IsNull(name)){
			this.ds_Detail10.setColumn(iRow, "DE"+e.columnid.substr(2, 2)+"_NM", name.substr(0,6));
			this.ds_CmMaInfo.setColumn(0, "DE"+e.columnid.substr(2, 2)+"_NM", name.substr(0,6));
		}
	
	}else{
		this.ds_Detail10.setColumn(iRow, e.columnid, this.ds_CmMaInfo.getColumn(0, e.columnid));
	}
	
	
};

/***********************************************************************************************
 * 15.16 [fn_ComMaEditChangedEvent ] 관리항목 Edit변경 관련 이벤트
 ***********************************************************************************************/ 
this.fn_ComMaEditChangedEvent = function(obj:nexacro.Edit,e:nexacro.ChangeEventInfo)
{ 


	//관리항목코드명함수 정보가 있으면
	if (!this.gfn_IsNull(obj.FUNC_NM)) {		

		var sFUNC_NM = obj.FUNC_NM;     //관리항목-코드명함수
		var oColCd = eval(obj.ColCd);   //관리항목-코드컬럼
		var oVColCd   = eval(obj.VColCd);  //관리항목-코드컬럼
		var oColNm = eval(obj.ColNm);   //관리항목-코드명컬럼
		var oGrcmCd = obj.GRCM_CD;      //관리항목-그룹코드명컬럼
		var oAcomGu = obj.ACOM_GU;      //계정구분
		var sMaSeq = obj.MaSeq;         //관리항목-순번
		var sDETA_CD = obj.DETA_CD;     //관리항목-팝업함수
		var sDecrGu = obj.DecrGu;       //  차대구분
		var slocal = "";
		
		
		
		var sPopupId = "MA" + sMaSeq + "_" + sDETA_CD;//팝업ID
		
		if(sMaSeq=="01"){
			this.fvCmMaRtnColCd01 = obj.sCD01_NM;
			this.fvCmMaRtnColNm01 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De01Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De01Cd";
			this.fvCmMaPopupId01 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="02"){
			this.fvCmMaRtnColCd02 = obj.sCD01_NM;
			this.fvCmMaRtnColNm02 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De02Cd.set_value(oVColCd.value);
			slocal = "div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De02Cd";
			this.fvCmMaPopupId02 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="03"){
			this.fvCmMaRtnColCd03 = obj.sCD01_NM;
			this.fvCmMaRtnColNm03 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De03Cd.set_value(oVColCd.value);
			slocal = "div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De03Cd";
			this.fvCmMaPopupId03 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="04"){
			this.fvCmMaRtnColCd04 = obj.sCD01_NM;
			this.fvCmMaRtnColNm04 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De04Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De04Cd";
			this.fvCmMaPopupId04 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="05"){
			this.fvCmMaRtnColCd05 = obj.sCD01_NM;
			this.fvCmMaRtnColNm05 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De05Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De05Cd";
			this.fvCmMaPopupId05 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="06"){
			this.fvCmMaRtnColCd06 = obj.sCD01_NM;
			this.fvCmMaRtnColNm06 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De06Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De06Cd";
			this.fvCmMaPopupId06 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="07"){
			this.fvCmMaRtnColCd07 = obj.sCD01_NM;
			this.fvCmMaRtnColNm07 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De07Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De07Cd";
			this.fvCmMaPopupId07 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}else if(sMaSeq=="08"){
			this.fvCmMaRtnColCd08 = obj.sCD01_NM;
			this.fvCmMaRtnColNm08 = obj.sCD02_NM;
			this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De08Cd.set_value(oVColCd.value);
			slocal = "this.div_DetailInput.form.div_detailRight.form.div_Item.form.edt_De08Cd";
			this.fvCmMaPopupId08 = "MA"+sMaSeq+"_" + sDETA_CD;//팝업ID
		}
		
	
		
		
		if (sFUNC_NM == "gfn_GetCommAcnm") {
			//계좌번호-완료
			this.gfn_GetCommAcnm(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommBanm") {
			//은행(지점)-완료
			this.gfn_GetCommBanm(oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommBilm") {
			//어음번호-완료
			this.gfn_GetCommBilm(oAcomGu, oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommCnth") {
			//계약번호-완료
			this.gfn_GetCommCnth(oVColCd, oColNm, this.fvComPrgmId, sPopupId, "fn_ComMaPopupCallback");//코드로 검색	
		} else if (sFUNC_NM == "gfn_GetCommCodm") {
			//공통코드-완료
			this.gfn_GetCommCodm(oGrcmCd, oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색	
		} else if (sFUNC_NM == "gfn_GetCommCrem") {
			//법인카드번호-완료
			this.gfn_GetCommCrem(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommCusm") {
			//거래처-완료
			//this.gfn_GetCommCusm("C", oColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색
			//this.gfn_GetCommCusm("C", oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색
			var arrArgs = ["SAUM_NO^"+slocal]
			this.gfn_GetCommCusm("CS", oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback", arrArgs);//코드로 검색
		
		
		} else if (sFUNC_NM == "gfn_GetCommDebm") {
			//차입금코드-완료
			this.gfn_GetCommDebm(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommDepm") {
			//부서-완료
			this.gfn_GetCommDepm("C", oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색	
		}  else if (sFUNC_NM == "gfn_GetCommEmpm") {
			//사원-완료
			this.gfn_GetCommEmpm("C", oVColCd, oColNm, oColCd, sPopupId, "", "fn_ComMaPopupCallback");//코드로 검색
		
			//this.gfn_GetCommEmpm("C", oVColCd, oColNm, this.div_Search.form.edt_SystId, "Empm", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommFiam") {
			//고정자산번호-완료
			this.gfn_GetCommFiam(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommItem") {
			//품목-완료
			this.gfn_GetCommItem(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색		
		} else if (sFUNC_NM == "gfn_GetCommLoam") {
			//대여금코드-완료
			this.gfn_GetCommLoam(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommSaum") {
			//사업장--완료
			this.gfn_GetCommSaum(oVColCd, oColNm, sPopupId, "fn_ComMaPopupCallback");//코드로 검색		
		} else if (sFUNC_NM == "gfn_GetCommSecm") {
			//유가증권번호-완료
			this.gfn_GetCommSecm(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommSerh") {
			//CS접수번호
			this.gfn_GetCommSerh(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommRpjh") {
			//연구개발코드
			this.gfn_GetCommRpjh(oVColCd, oColNm, "", sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} else if (sFUNC_NM == "gfn_GetCommVatm") {
			//부가세코드
			
			var sVatmGu="";
			if(oAcomGu == "0010" && sDecrGu=="D"){
				//부가가치대급금
				sVatmGu = "0";  // 매입
			}else{
				sVatmGu = "1"; // 매출
			}
			this.gfn_GetCommVatm(oVColCd, oColNm, "", sVatmGu, sPopupId, "fn_ComMaPopupCallback");//코드로 검색
		} 



	}
}


/***********************************************************************************************
 * 15.18 [사용금액 및 가용금액 계산] 
 ***********************************************************************************************/ 
this.fn_CalAvailAm = function()
{ 

	//예산통제하는 계정인경우
	if (this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.value == "1") {
		this.fvBCalAvailAmt = true;//가용금액계산여부
		this.ds_Detail10.set_enableevent(false);

		var iRow = this.ds_Detail10.rowposition;
		var sDECR_GU = this.ds_Detail10.getColumn(iRow, "DECR_GU");//차대구분
		var sACOM_CD = this.ds_Detail10.getColumn(iRow, "ACOM_CD");//계정코드
		var sBUDG_MM = this.ds_Detail10.getColumn(iRow, "BUDG_MM");//편성년월	
		var sBUDP_CD = this.ds_Detail10.getColumn(iRow, "BUDP_CD");//예산부서
		
		if (this.gfn_IsNull(sBUDG_MM)) {
			sBUDG_MM = "";
		} else {
			sBUDG_MM = sBUDG_MM.substr(0,6);
		}

		var dRecAm = nexacro.toNumber(this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RecAm.value);//편성금액
		var dUseAmPre = nexacro.toNumber(this.ds_Detail11.getColumn(0, "USED_AM"));//DB조회 사용금액 = 집행금액_발의 + 집행금액_결의
		var iOrgSumAmt = 0;//변경전 금액 합계
		var iChangeSumAmt = 0;//변경 금액 합계
		var dPreUseAm = 0;//기사용금액

		//var dUseAm2 = nexacro.toNumber(this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RegAm.value);//사용금액2
		//var dUseAm = 0;//사용금액
		var sSumCol = "";//합계할 컬럼명
		
		//차대구분-대변
		if (sDECR_GU == "C") {
			//dUseAm = this.ds_Detail10.getColumn(iRow, "CRED_AM");//사용금액-현재Row
			sSumCol = "CRED_AM";//합계할 컬럼명
		} else {
			//dUseAm = this.ds_Detail10.getColumn(iRow, "DEBI_AM");//사용금액-현재Row
			sSumCol = "DEBI_AM";//합계할 컬럼명
		}		
		
		var sDECR_GU_Chk = "";//차대구분-체크대상
		var sACOM_CD_Chk = "";//계정코드-체크대상
		var sBUDG_MM_Chk = "";//편성년월-체크대상
		var sBUDP_CD_Chk = 0;//예산부서-체크대상
		var sCrudType = "";//CRUD Type
		var dOrgAm = 0;//변경전 금액
		var dNowAm = 0;//현재 금액
			
		for (var iLoop=0; iLoop<this.ds_Detail10.getRowCount(); iLoop++) {
			sDECR_GU_Chk = this.ds_Detail10.getColumn(iLoop, "DECR_GU");//차대구분-체크대상
			sACOM_CD_Chk = this.ds_Detail10.getColumn(iLoop, "ACOM_CD");//계정코드-체크대상
			sBUDG_MM_Chk = this.ds_Detail10.getColumn(iLoop, "BUDG_MM");//편성년월-체크대상
			sBUDP_CD_Chk = this.ds_Detail10.getColumn(iLoop, "BUDP_CD");//예산부서-체크대상
			sCrudType = this.ds_Detail10.getColumn(iLoop, "crudType");//CRUD Type
			dOrgAm = this.ds_Detail10.getOrgColumn(iLoop, sSumCol);//변경전 금액
			dNowAm = this.ds_Detail10.getColumn(iLoop, sSumCol);//현재 금액

			if (sDECR_GU == sDECR_GU_Chk && sDECR_GU == sDECR_GU_Chk && sACOM_CD == sACOM_CD_Chk && sBUDG_MM == sBUDG_MM_Chk && sBUDP_CD == sBUDP_CD_Chk) {

				if (sCrudType == "U") {
			
					iChangeSumAmt = iChangeSumAmt + (dNowAm - dOrgAm);//변경 금액 합계
				}
				
				if (sCrudType != "I") {
					iOrgSumAmt = iOrgSumAmt + dOrgAm;//변경전 금액 합계					
				}
			}
			
		}
						
		var dUseAmSum = this.ds_Detail10.getCaseSum("DECR_GU == '" + sDECR_GU + "' && ACOM_CD == '" + sACOM_CD + "' && BUDG_MM == '" + sBUDG_MM + "' && BUDP_CD == '" + sBUDP_CD + "'", sSumCol);//사용금액합		
		
		dPreUseAm = dUseAmPre - iOrgSumAmt;//기사용금액	
		
		/*
		if (iChangeSumAmt == 0) {
			dPreUseAm = dUseAmPre - iOrgSumAmt;//기사용금액		
		} else {
			dPreUseAm = dUseAmPre - (iOrgSumAmt - (iChangeSumAmt-iOrgSumAmt));//기사용금액
		}
		*/
		/*
		//trace("dUseAmPre == "+ dUseAmPre);
		//trace("iOrgSumAmt == "+ iOrgSumAmt);
		//trace("iChangeSumAmt == "+ iChangeSumAmt);
		//trace("dPreUseAm == "+ dPreUseAm);
		*/
		
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_UsedAm.set_value(dPreUseAm);//기사용금액 = DB조회 사용금액 - 현재계정의 변경전 금액
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RegAm.set_value(dUseAmSum);//사용금액-해당 계정건

		var dAvailAm = dRecAm - (dPreUseAm + dUseAmSum);//가용잔액 = 편성금액 - ( 기사용금액 + 사용금액)
		//trace(dAvailAm +"/"+  dRecAm +"/"+ dPreUseAm +"/"+  dUseAmSum);

		if (isNaN(dAvailAm)) {
			this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm.set_value(0);//가용잔액
		} else {
			if (dAvailAm < 0) {
				this.gfn_Alert("CA012");//가용잔액이 부족합니다.
				
				if (sDECR_GU == "C") {
					this.ds_Detail10.setColumn(iRow, "CRED_AM", this.ds_Detail10.getOrgColumn(iRow, "CRED_AM"));
					this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellPos(10);
				} else {
					this.ds_Detail10.setColumn(iRow, "DEBI_AM", this.ds_Detail10.getOrgColumn(iRow, "DEBI_AM"));
					this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellPos(9);
				}
				this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.showEditor(true);
				this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setFocus();
				//this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_UsedAm.set_value(0);

				dUseAmSum = this.ds_Detail10.getCaseSum("DECR_GU == '" + sDECR_GU + "' && ACOM_CD == '" + sACOM_CD + "' && BUDG_MM == '" + sBUDG_MM + "'", sSumCol);//사용금액합
				dAvailAm = dRecAm - (dPreUseAm + dUseAmSum);//가용잔액 = 편성금액 - ( 사용금액1합 + 사용금액2)
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RegAm.set_value(dUseAmSum);//사용금액-해당 계정건
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm.set_value(dAvailAm);//가용잔액
				this.fvBCalAvailAmt = false;//가용금액계산여부
				this.ds_Detail10.set_enableevent(true);
				return;
			} else {		
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm.set_value(dAvailAm);//가용잔액
			}
		}

		if (!this.gfn_IsNull(sACOM_CD) && !this.gfn_IsNull(sBUDG_MM)) {
		
			if (this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.value) {
				//예산편성금액 설정
				//편성금액체크
				if (isNaN(dRecAm) || (dRecAm == 0)) {

					if (this.ds_Detail10.getColumn(iRow, "crudType") == "I" || this.ds_Detail10.getColumn(iRow, "crudType") == "U") {
						this.gfn_Alert("CA011");//해당월의 예산편성금액이 없습니다.
					}
				}		
				
				if (isNaN(dRecAm)) {
					this.ds_Detail10.setColumn(iRow, "BGCM_AM", "0");//예산편성금액
				} else {
					this.ds_Detail10.setColumn(iRow, "BGCM_AM", dRecAm);//예산편성금액
				}			
		
			}
		}

		this.fvBCalAvailAmt = false;//가용금액계산여부
		this.ds_Detail10.set_enableevent(true);
	} else {	
		this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm.set_value(0);//가용잔액
	}
}

/***********************************************************************************************
 * 15.19. [예산통제정보 조회] - 예산부서, 편성년월 변경시
 ***********************************************************************************************/ 
this.fn_GetBudg = function()
{
	this.ds_Input.clearData();
	this.ds_Detail11.clearData();
	
	this.ds_Input.addRow();
	
	var sDEPM_CD = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "BUDP_CD");//부서코드
	var sBUDG_MM = this.gfn_Nvl(this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "BUDG_MM"), "");//편성년월
	var sACOM_CD = this.ds_Detail10.getColumn(this.ds_Detail10.rowposition, "ACOM_CD");//계정코드
	
	if (this.gfn_IsNull(sDEPM_CD) || this.gfn_IsNull(sBUDG_MM) || this.gfn_IsNull(sACOM_CD)) {
		return;
	}
	
	if (!this.gfn_IsNull(sBUDG_MM)) {
		sBUDG_MM = sBUDG_MM.substr(0,6);
	}
	
	this.ds_Input.setColumn(0, "BUGS_YM", sBUDG_MM);
	this.ds_Input.setColumn(0, "DEPM_CD", sDEPM_CD);
	this.ds_Input.setColumn(0, "ACOM_CD", sACOM_CD);
	
	//[공통]서비스정보 초기화
	this.gfn_InitComService(this);
		
	//[공통]서비스정보 추가
	var svcAddObj = new Object();//[공통] 서비스 추가 파라메타 정보 Object
	svcAddObj.sSelectSql = "fa:M_FA_1000_D_SL12";
	this.gfn_AddComSearchService(this, svcAddObj);			

	//[공통]서비스 호출 변수
	var svcCallObj = new Object();//[공통] 서비스 파라메타 정보 Object
		
	svcCallObj.sTrid = "GET_BUDG";//Transaction ID 등 callback에서 넘겨 받을 String을 지정

	svcCallObj.sActionName = this.G_SV_FA;//서버에서 호출할 Action - 모듈별로 호출되는 기본 Actio이 다름 : 공통 서비스 Action 업무구분  변수 참조
	svcCallObj.sInputDaset = "ds_Input=ds_Input" //입력 데이터셋
	svcCallObj.sOutDatset = "ds_Detail11=ds_Detail11";//출력 데이터셋
	svcCallObj.sOtherArg = "";//서버로 전송할 기타 Argument 정보 문자열, 예) key=value key2=value2
	svcCallObj.sCallBackFnc = "fn_Callback";//서버에서 처리가 완료된 후 Callback 받을 Function 명

	//[공통]서비스 호출
	this.gfn_CallComService(this, svcCallObj);

}

/***********************************************************************************************
 * 15.20. [계정명조회 그리드] - 콜백함수
 ***********************************************************************************************/ 
this.fn_CommAcomCallbackFunc = function()
{  
	this.setTimer(100, 200);
}

/***********************************************************************************************
 * 15.21. [계정명조회 그리드] - 콜백함수-실행함수
 ***********************************************************************************************/ 
this.fn_CommAcomCallbackRunFunc = function()
{  
	var iRow = this.ds_Detail10.rowposition;
	var sACOM_CD = this.ds_Detail10.getColumn(iRow, "ACOM_CD");//계정코드
	var sBUDG_MM = this.gfn_Nvl(this.ds_Detail10.getColumn(iRow, "BUDG_MM"), "");//편성년월

	if (!this.gfn_IsNull(sACOM_CD) && !this.gfn_IsNull(sBUDG_MM)) {
		//[예산통제 계정] 체크
		var paramObj= new Object();//[공통] 예산통제체크 파라메타 정보 Object
		paramObj.BGCM_YY = sBUDG_MM.substr(0, 4);//편성년도
		paramObj.ACOM_CD = sACOM_CD;//계정코드
		bCheckBgcm = this.gfn_CheckBgcm(paramObj);//예산편성계정여부 체크

		//예산통제계정
		if (bCheckBgcm) {
		
			//마감여부 체크
			var paramObj= new Object();//[공통] 예산통제체크 파라메타 정보 Object
			var mgasDst  = "C";//[필수] 마감구분 - C: 마감여부, A: 회계마감여부  
			paramObj.MGAS_MM = sBUDG_MM;//마감년월
			paramObj.MODM_CD = "CC";//[필수] 모듈구분(공통코드-CA910(마감구분) 참조) : CC - 예산편성확정 마감여부, CB - 예산마감 여부
			paramObj.ACUM_CD = "";//[선택] 회계단위
			paramObj.BUSM_CD  = "";//[선택] 사업부문
			paramObj.SAUM_CD  = "";//[선택] 사업장코드
			paramObj.DEPM_CD  = "";//[선택] 부서코드
			paramObj.MODD_CD  = "";//[선택] 모듈상세구분(CA900)
			paramObj.BFPR_YN  = "Y";//[선택] 마감전 프로세스여부
			
			var bCheck = this.gfn_CheckMgas(paramObj, mgasDst);

			//예산편성확정 되었을경우
			if (!bCheck) {

				this.gfn_Alert("CA017");//해당월의 예산편성확정 정보가 없습니다.				
				this.ds_Detail10.setColumn(iRow, "ACOM_NM", "");//계정코드명	
				this.ds_Detail10.setColumn(iRow, "DECR_GU_CHK", "");//차대구분-체크				
				this.ds_Detail10.setColumn(iRow, "ACOM_CD", "");//계정코드
				 this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellPos(this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.getBindCellIndex("body",'ACOM_CD'));
				 this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setFocus();				

				return;
			}
	
			var sDECR_GU = this.ds_Detail10.getColumn(iRow, "DECR_GU");//차대구분
			var sDECR_GU_CHK = this.ds_Detail10.getColumn(iRow, "DECR_GU_CHK");//차대구분-계정

			//선택한것과 계정코드의 차대구분이 같을 경우
			if ((sDECR_GU == "D" && sDECR_GU_CHK == "D") || (sDECR_GU == "C" && sDECR_GU_CHK == "C")) {
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("1");
				this.ds_Detail10.setColumn(iRow, "BGCM_YN", "Y");//예산통제여부
			} else {
				this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
				this.ds_Detail10.setColumn(iRow, "BGCM_YN", "N");//예산통제여부
				bCheckBgcm = false;
			}
			
		} else {
			this.div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.chk_BgcmYn.set_value("0");
			this.ds_Detail10.setColumn(iRow, "BGCM_YN", "N");//예산통제여부
		}
	}

	//관리항목 조회
	this.fn_dsAcomMa(this.ds_Detail10.getColumn(iRow, "ACOM_CD"), "SET", bCheckBgcm);		
}

/***********************************************************************************************
 * 15.22. [전표상세 저장시] - 집행금액 발의 계산
 ***********************************************************************************************/ 
this.fn_CalBgacAm = function(sDst)
{
	var sBUGS_YM = "";//편성년월
	var sDEPM_CD = "";//부서코드
	var sACOM_CD = "";//계정코드
	var sDECR_GU = "";//차대구분
	var sBGCM_YN = "";//예산통제여부
	var arrTarget = new Array();//집행금액 발의 계산 대상
	var arrTargetList = new Array();//집행금액 발의 계산 대상 리스트
	var sCrudType = "";//CRUD Type
	var sChkStr = "";
	var sCol = "";//컬럼명
	var dBGAC_AM = 0;//집행금액_발의
	var dBGAC_AM_I = 0;//집행금액_발의(신규)
	var dBGAC_AM_U = 0;//집행금액_발의(수정)
	var dBGAC_AM_U_ORG = 0;//집행금액_발의(수정)_원본
	var dBGAC_AM_D = 0;//집행금액_발의(삭제)
	var iFindRow = 0;
	var iAddRow = 0;
		
	for (var iLoop=0; iLoop<this.ds_Detail10.getRowCount(); iLoop++) {
	
		sBGCM_YN = this.ds_Detail10.getColumn(iLoop, "BGCM_YN");//예산통제여부
		
		if (sBGCM_YN == "Y") {
		
			//전체삭제일경우
			if (sDst == "D") {
				sBUGS_YM = this.ds_Detail10.getColumn(iLoop, "BUDG_MM");//편성년월
				sDEPM_CD = this.ds_Detail10.getColumn(iLoop, "BUDP_CD");//부서코드
				sACOM_CD = this.ds_Detail10.getColumn(iLoop, "ACOM_CD");//계정코드
				sDECR_GU = this.ds_Detail10.getColumn(iLoop, "DECR_GU");//차대구분
				sChkStr = sBUGS_YM + ";" + sDEPM_CD + ";" + sACOM_CD + ";" + sDECR_GU;
				
				if (arrTargetList.indexOf(sChkStr) < 0) {
					arrTargetList.push(sChkStr);
				}			
			} else {
				sCrudType = this.ds_Detail10.getColumn(iLoop, "crudType");//CRUD Type
				
				if (sCrudType == "I" || sCrudType == "U" || sCrudType == "D") {
					sBUGS_YM = this.ds_Detail10.getColumn(iLoop, "BUDG_MM");//편성년월
					sDEPM_CD = this.ds_Detail10.getColumn(iLoop, "BUDP_CD");//부서코드
					sACOM_CD = this.ds_Detail10.getColumn(iLoop, "ACOM_CD");//계정코드
					sDECR_GU = this.ds_Detail10.getColumn(iLoop, "DECR_GU");//차대구분
					sChkStr = sBUGS_YM + ";" + sDEPM_CD + ";" + sACOM_CD + ";" + sDECR_GU;
					
					if (arrTargetList.indexOf(sChkStr) < 0) {
						arrTargetList.push(sChkStr);
					}
				}
			}
		}
	}
	
	this.ds_Detail13.clearData();
	
	if (arrTargetList.length > 0) {
		for (var iLoop=0; iLoop<arrTargetList.length; iLoop++) {
			arrTarget = arrTargetList[iLoop].split(";");
			sBUGS_YM = arrTarget[0];//편성년월
			sDEPM_CD = arrTarget[1];//부서코드
			sACOM_CD = arrTarget[2];//계정코드
			sDECR_GU = arrTarget[3];//차대구분
			//차변
			if (sDECR_GU == "D") {
				sCol = "DEBI_AM";//컬럼명
			} else {
				sCol = "CRED_AM";//컬럼명
			}
			
			sChkStr = "BUDG_MM == '" + sBUGS_YM + "' && BUDP_CD == '" + sDEPM_CD + "' && ACOM_CD == '" + sACOM_CD + "' && DECR_GU == '" + sDECR_GU + "'";

			//전체삭제일경우
			if (sDst == "D") {

				iFindRow = this.ds_Detail10.findRowExpr(sChkStr);
				dBGAC_AM_U_ORG = this.ds_Detail10.getOrgColumn(iFindRow, sCol);//집행금액_발의(수정)_원본

				dBGAC_AM = dBGAC_AM_U_ORG;//집행금액_발의			
			} else {
				dBGAC_AM_I = this.ds_Detail10.getCaseSum(sChkStr + " && crudType == 'I'", sCol);//집행금액_발의(신규)
				dBGAC_AM_U = this.ds_Detail10.getCaseSum(sChkStr + " && crudType == 'U'", sCol);//집행금액_발의(수정)
				dBGAC_AM_D = this.ds_Detail10.getCaseSum(sChkStr + " && crudType == 'D'", sCol);//집행금액_발의(삭제)
				
				
				iFindRow = this.ds_Detail10.findRowExpr(sChkStr + " && crudType == 'U'");
				if (iFindRow > -1) {
					dBGAC_AM_U_ORG = this.ds_Detail10.getOrgColumn(iFindRow, sCol);//집행금액_발의(수정)_원본
				} else {
					dBGAC_AM_U_ORG = 0;
				}
				dBGAC_AM = dBGAC_AM_I + (dBGAC_AM_U-dBGAC_AM_U_ORG) - dBGAC_AM_D;//집행금액_발의
			}
			//trace(dBGAC_AM_I + "/" + dBGAC_AM_U + "/" + dBGAC_AM_D + "/" + dBGAC_AM_U_ORG);
			
			iAddRow = this.ds_Detail13.addRow();
			this.ds_Detail13.setColumn(iAddRow, "BUGS_YM", sBUGS_YM);//편성년월
			this.ds_Detail13.setColumn(iAddRow, "DEPM_CD", sDEPM_CD);//부서코드
			this.ds_Detail13.setColumn(iAddRow, "ACOM_CD", sACOM_CD);//계정코드
			this.ds_Detail13.setColumn(iAddRow, "BGAC_AM", dBGAC_AM);//집행금액_발의
			this.ds_Detail13.setColumn(iAddRow, "crudType", "U");
			
		}
	}
	
}

/***********************************************************************************************
 * 15.23. 타이머 설정 - 비동기시 설정 때문에
 ***********************************************************************************************/ 
this.M_SM_0010_ontimer = function(obj:nexacro.Form,e:nexacro.TimerEventInfo)
{
	//계정코드 팝업콜백함수 인경우
	if (e.timerid == 100) {
		this.fn_CommAcomCallbackRunFunc();//계정팝업 후처리 함수
		this.killTimer(100);

	}
};


/***********************************************************************************************
 * 15.10. [상세보기] 결재PID로 메인 화면 호출
 ***********************************************************************************************/ 
this.div_MasterInput_btn_CallMainScrn_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{ 
	/*
	var sPopupId = "WF_M_FA_1000";
	var sPopupTitle = "전표등록"; //Popup화면 타이틀
	var sPopupFormUrl  = "fa::M_FA_1000.xfdl"; //Popup화면 URL
	var oArg = {paramTitle:sPopupTitle, paramWofhNo:this.fvComWofhNo}; //Popup화면 전달 파라메터
	var oOption = {title:sPopupTitle, width:"1400", height:"800", popuptype:"TitlePopup"}; //Popup화면 옵션
	var sPopupCallBack = "fn_PopupCallback"; //Popup화면 호출후 Callback 처리 함수

	this.gfn_OpenPopup(sPopupId, sPopupFormUrl, oArg, sPopupCallBack, oOption); //Popup화면 호출 함수			
	*/
	
   var sPopupId = "WF_M_FA_1000_10";
   var sPopupTitle = "전표등록"; //Popup화면 타이틀
   var sPopupFormUrl  = "fa::M_FA_1000.xfdl"; //Popup화면 URL
   
   var acchNo = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "ACCH_NO"); //발의번호
   var wofhSq = this.ds_Master10.getColumn(this.ds_Master10.rowposition, "WOFH_SQ"); //결재차수
   var oArg = {paramTitle:sPopupTitle, AcchNo:acchNo, WofnSq:wofhSq}; //Popup화면 전달 파라메터

   var oOption = {title:sPopupTitle, width:"1400", height:"800", popuptype:"TitlePopup"}; //Popup화면 옵션
   
   var sPopupCallBack = "fn_PopupCallback"; //Popup화면 호출후 Callback 처리 함수

   this.gfn_OpenPopup(sPopupId, sPopupFormUrl, oArg, sPopupCallBack, oOption); //Popup화면 호출 함수      	
};

/***********************************************************************************************
 * 15.11. 차대구분에 따리 필수체크 표시한다.
 ***********************************************************************************************/ 
this.fn_DecrGuCssclass = function(decrGu){

	//trace("fn_DecrGuCssclass start = " + decrGu);

	//차대구분에따라 차변금액, 대변금액 필수 체크 표시
	//무조건 차변,대변금액 필수체크로 변경
// 	if(decrGu =="D"){
// 		//차변
// 		//trace("fn_DecrGuCssclass start 1= " + decrGu);
// 		this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellProperty("head", 9, "cssclass", "essential");
// 		this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellProperty("head", 10, "cssclass", "");
// 	}else{
// 		//대변
// 		//trace("fn_DecrGuCssclass start 2=  " + decrGu);
// 		this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellProperty("head", 9, "cssclass", "");
// 		this.div_MasterInput.form.tab_Master.tpg_02.form.grd_Detail10.setCellProperty("head", 10, "cssclass", "essential");
// 	}
	//trace("fn_DecrGuCssclass end = " + decrGu);
}



/***********************************************************************************************
 * WF. 결재처리 영역
 ***********************************************************************************************/
/***********************************************************************************************
 * WF.01. [결재처리] 중간결재 [승인] 시 업무영역 전처리 함수
 ***********************************************************************************************/
this.fn_ComWfMidAppr = function(oWfParam)
{
	return true;
}

/***********************************************************************************************
 * WF.02. [결재처리] 최종결재 [승인] 시 업무영역 전처리 함수
 ***********************************************************************************************/
this.fn_ComWfAppr = function(oWfParam)
{
	return true;
}

/***********************************************************************************************
 * WF.03. [결재처리] [기각] 시 업무영역 전처리 함수
 ***********************************************************************************************/
this.fn_ComWfReject = function(oWfParam)
{
	return true;
}

/***********************************************************************************************
 * WF.04. [결재처리] [확인] 시 업무영역 전처리 함수
 ***********************************************************************************************/
this.fn_ComWfConfirm = function(oWfParam)
{
	return true;
}

/***********************************************************************************************
 * WF.05. [결재처리] [저장] 시 업무영역 전처리 함수
 ***********************************************************************************************/
this.fn_ComWfSave = function(oWfParam)
{
	return true;
}

]]></Script>
    <Bind>
      <BindItem id="item2" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_DepmCd" propid="value" datasetid="ds_Master10" columnid="DEPM_CD"/>
      <BindItem id="item3" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_EmpmCd" propid="value" datasetid="ds_Master10" columnid="EMPM_CD"/>
      <BindItem id="item4" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_SystId" propid="value" datasetid="ds_Master10" columnid="SYST_ID"/>
      <BindItem id="item5" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_DepmNm" propid="value" datasetid="ds_Master10" columnid="DEPM_NM"/>
      <BindItem id="item21" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_EmpmNm" propid="value" datasetid="ds_Master10" columnid="EMPM_NM"/>
      <BindItem id="item8" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_AcumCd" propid="value" datasetid="ds_Master10" columnid="ACUM_CD"/>
      <BindItem id="item11" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_PacsCd" propid="value" datasetid="ds_Master10" columnid="PACS_CD"/>
      <BindItem id="item1" compid="div_MasterInput.form.tab_Master.tpg_01.form.txt_AcreNm" propid="value" datasetid="ds_Master10" columnid="ACRE_NM"/>
      <BindItem id="item10" compid="div_MasterInput.form.tab_Master.tpg_01.form.cbo_ActyCd" propid="value" datasetid="ds_Master10" columnid="ACTY_CD"/>
      <BindItem id="item15" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_AcumNm" propid="value" datasetid="ds_Master10" columnid="ACUM_NM"/>
      <BindItem id="item16" compid="div_MasterInput.form.tab_Master.tpg_01.form.cbo_AcchGu" propid="value" datasetid="ds_Master10" columnid="ACCH_GU"/>
      <BindItem id="item18" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_AcchNm" propid="value" datasetid="ds_Master10" columnid="ACCH_NM"/>
      <BindItem id="item19" compid="div_MasterInput.form.tab_Master.tpg_01.form.cal_PareDd" propid="value" datasetid="ds_Master10" columnid="PARE_DD"/>
      <BindItem id="item22" compid="div_MasterInput.form.tab_Master.tpg_01.form.cbo_PacsGu" propid="value" datasetid="ds_Master10" columnid="PACS_GU"/>
      <BindItem id="item7" compid="div_MasterInput.form.tab_Master.tpg_01.form.mae_AcchAm" propid="value" datasetid="ds_Master10" columnid="ACCH_AM"/>
      <BindItem id="item0" compid="div_MasterInput.form.tab_Master.tpg_01.form.mae_AcchNo" propid="value" datasetid="ds_Master10" columnid="ACCH_NO"/>
      <BindItem id="item12" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_00" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item14" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_01" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item20" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_01_00" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item24" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_01_01" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item25" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_01_02" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item26" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.edt_TemhNo00_01_03" propid="value" datasetid="ds_Master10" columnid="TEMH_NO"/>
      <BindItem id="item27" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptCd" propid="value" datasetid="ds_Detail10" columnid="BUDP_CD"/>
      <BindItem id="item28" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetDeptNm" propid="value" datasetid="ds_Detail10" columnid="BUDP_NM"/>
      <BindItem id="item29" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.edt_BudgetAcomCd" propid="value" datasetid="ds_Detail10" columnid="ACOM_NM"/>
      <BindItem id="item30" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_RecAm" propid="value" datasetid="ds_Detail11" columnid="BGSU_AM"/>
      <BindItem id="item31" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_AvailAm" propid="value" datasetid="ds_Master10" columnid=""/>
      <BindItem id="item32" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.mae_UsedAm" propid="value" datasetid="ds_Master10" columnid=""/>
      <BindItem id="item33" compid="div_MasterInput.form.tab_Master.tpg_02.form.div_detailRight.form.div_Budget.form.cal_BudgetDd" propid="value" datasetid="ds_Detail10" columnid="BUDG_MM"/>
      <BindItem id="item6" compid="div_MasterInput.form.tab_Master.tpg_01.form.mae_SlipNo" propid="value" datasetid="ds_Master10" columnid="SLIP_NO"/>
      <BindItem id="item9" compid="div_MasterInput.form.tab_Master.tpg_01.form.cal_AcchDd" propid="value" datasetid="ds_Master10" columnid="ACCH_DD"/>
      <BindItem id="item17" compid="div_MasterInput.form.tab_Master.tpg_01.form.chk_TranYn" propid="value" datasetid="ds_Master10" columnid="TRAN_YN"/>
      <BindItem id="item34" compid="div_MasterInput.form.tab_Master.tpg_01.form.edt_PacsNm" propid="value" datasetid="ds_Master10" columnid="PACS_NM"/>
      <BindItem id="item13" compid="div_MasterInput.form.tab_Master.tpg_01.form.cbo_PabaCd" propid="value" datasetid="ds_Master10" columnid="PABA_CD"/>
      <BindItem id="item23" compid="div_MasterInput.form.tab_Master.tpg_01.form.cbo_PaacNo" propid="value" datasetid="ds_Master10" columnid="PAAC_NO"/>
    </Bind>
  </Form>
</FDL>
